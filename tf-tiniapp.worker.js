var __frameworkEndTime,__frameworkStartTime=Date&&Date.now&&Date.now(),TFApp=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=222)}([function(e,t,n){var r=n(42),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureDefaultLogger=void 0;var r=n(38),a=n(71),o={level:"none",debug:!1,console:console},i=a.default(o);t.default=function e(t){return new r.default((function(e,n){i(t,e,n)}),(function(n){return e("".concat(t,"/").concat(n))}))},t.configureDefaultLogger=function(e){Object.assign(o,e),i=a.default(o)}},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(64);n(65);var o=null;t.default={captureException:function(t){e.DisableSentry||r(void 0,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.Sentry){t.next=2;break}return t.abrupt("return",Promise.resolve(e.Sentry));case 2:if(!o){t.next=4;break}return t.abrupt("return",o);case 4:return o=new Promise((function(t){a.default({url:"https://tiniapp.tikicdn.com/resources/framework/lib/sentry.browser.6.11.0.js",id:"sentry",crossorigin:"anonymous"}).then((function(){if(e.Sentry)return e.Sentry.init({dsn:"https://2c900f55c48648c2b0f9ad508e1f0ea2@sentry.tiki.com.vn/408",tracesSampleRate:1,release:"1.81.21"}),o=null,t(e.Sentry)}))})),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)}))).then((function(e){return e.captureException(t)}))}}}).call(this,n(9))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var v=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncEmitter=t.WaitUntilEvent=t.Emitter=t.Event=void 0,function(e){var t={dispose:function(){}};e.None=Object.assign((function(){return t}),{get maxListeners(){return 0},set maxListeners(e){}}),e.map=function(e,t){return Object.assign((function(n,r,a){return e((function(e){return n.call(r,t(e))}),void 0,a)}),{maxListeners:0})}}(t.Event||(t.Event={}));var y=function(){function e(){p(this,e)}return h(e,[{key:"length",get:function(){return this._callbacks&&this._callbacks.length||0}},{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:function(){return t.remove(e,n)}})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this._callbacks){for(var n=!1,r=0;r<this._callbacks.length;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}},{key:Symbol.iterator,value:function(){if(!this._callbacks)return[][Symbol.iterator]();var e=this._callbacks.slice(0),t=this._contexts.slice(0);return e.map((function(e,n){return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e.apply(t[n],a)}}))[Symbol.iterator]()}},{key:"invoke",value:function(){var e,t=[],n=u(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;try{t.push(r.apply(void 0,arguments))}catch(a){console.error(a)}}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"isEmpty",value:function(){return!this._callbacks||0===this._callbacks.length}},{key:"dispose",value:function(){this._callbacks=void 0,this._contexts=void 0}}]),e}(),g=function(){function e(t){p(this,e),this._options=t,this._disposed=!1,this._leakWarnCountdown=0}return h(e,[{key:"event",get:function(){var t=this;return this._event||(this._event=Object.assign((function(n,r,a){t._callbacks||(t._callbacks=new y),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,r);var o=t.checkMaxListeners(t._event.maxListeners),i={dispose:function(){o&&o(),i.dispose=e._noop,t._disposed||(t._callbacks.remove(n,r),i.dispose=e._noop,t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t))}};return Array.isArray(a)&&a.push(i),i}),{maxListeners:e.LEAK_WARNING_THRESHHOLD})),this._event}},{key:"checkMaxListeners",value:function(e){if(0!==e&&this._callbacks){var t=this._callbacks.length;if(!(t<=e)){var n=this.pushLeakingStack();if(this._leakWarnCountdown-=1,this._leakWarnCountdown<=0){var r;this._leakWarnCountdown=.5*e;var a=0;this._leakingStacks.forEach((function(e,t){(!r||a<e)&&(r=t,a=e)})),console.warn("Possible Emitter memory leak detected. ".concat(t," listeners added. Use event.maxListeners to increase the limit (").concat(e,"). MOST frequent listener (").concat(a,"):")),console.warn(r)}return n}}}},{key:"pushLeakingStack",value:function(){var e=this;this._leakingStacks||(this._leakingStacks=new Map);var t=(new Error).stack.split("\n").slice(3).join("\n"),n=this._leakingStacks.get(t)||0;return this._leakingStacks.set(t,n+1),function(){return e.popLeakingStack(t)}}},{key:"popLeakingStack",value:function(e){if(this._leakingStacks){var t=this._leakingStacks.get(e)||0;this._leakingStacks.set(e,t-1)}}},{key:"fire",value:function(e){this._callbacks&&this._callbacks.invoke(e)}},{key:"sequence",value:function(e){return v(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._callbacks){t.next=20;break}n=u(this._callbacks),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=12;break}return a=r.value,t.next=8,e(a);case 8:if(t.sent){t.next=10;break}return t.abrupt("break",12);case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),n.e(t.t0);case 17:return t.prev=17,n.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[2,14,17,20]])})))}},{key:"dispose",value:function(){this._leakingStacks&&(this._leakingStacks.clear(),this._leakingStacks=void 0),this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0),this._disposed=!0}}]),e}();t.Emitter=g,g.LEAK_WARNING_THRESHHOLD=175,g._noop=function(){},function(e){e.fire=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return v(this,void 0,void 0,regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=[],o=Object.assign(t,{waitUntil:function(e){if(Object.isFrozen(a))throw new Error("waitUntil cannot be called asynchronously.");a.push(e)}});try{e.fire(o),Object.freeze(a)}finally{delete o.waitUntil}if(a.length){r.next=5;break}return r.abrupt("return");case 5:if(void 0===n){r.next=10;break}return r.next=8,Promise.race([Promise.all(a),new Promise((function(e){return setTimeout(e,n)}))]);case 8:r.next=12;break;case 10:return r.next=12,Promise.all(a);case 12:case"end":return r.stop()}}),r)})))}}(t.WaitUntilEvent||(t.WaitUntilEvent={}));var b=n(63),m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"fire",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.CancellationToken.None,r=arguments.length>2?arguments[2]:void 0,o=this._callbacks;if(!o)return Promise.resolve();var i=a(o);return this.deliveryQueue?this.deliveryQueue=this.deliveryQueue.then((function(){return t.deliver(i,e,n,r)})):this.deliveryQueue=this.deliver(i,e,n,r)}},{key:"deliver",value:function(e,t,n,a){return v(this,void 0,void 0,regeneratorRuntime.mark((function o(){var i,s,c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:i=u(e),o.prev=1,c=regeneratorRuntime.mark((function e(){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.value,!n.isCancellationRequested){e.next=3;break}return e.abrupt("return",{v:void 0});case 3:o=[],i=Object.assign(t,{waitUntil:function(e){if(Object.isFrozen(o))throw new Error("waitUntil cannot be called asynchronously.");a&&(e=a(e,r)),o.push(e)}});try{r(t),Object.freeze(o)}catch(c){console.error(c)}finally{delete i.waitUntil}if(o.length){e.next=8;break}return e.abrupt("return",{v:void 0});case 8:return e.prev=8,e.next=11,Promise.all(o);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[8,13]])})),i.s();case 4:if((s=i.n()).done){o.next=11;break}return o.delegateYield(c(),"t0",6);case 6:if("object"!==r(l=o.t0)){o.next=9;break}return o.abrupt("return",l.v);case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),i.e(o.t1);case 16:return o.prev=16,i.f(),o.finish(16);case 19:case"end":return o.stop()}}),o,null,[[1,13,16,19]])})))}}]),n}(g);t.AsyncEmitter=m},function(e,t,n){var r=n(83),a=n(88);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicApp=t.getCurrentPages=t.getApp=t.registerApp=void 0;var r,a,o=n(37);t.registerApp=function(e){return a=e,r=new o.default(e)},t.getApp=function(){return r},t.getCurrentPages=function(){return r.getPublicPages()},t.getPublicApp=function(){return a}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(11),a=n(84),o=n(85),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},function(e,t,n){var r=n(0).Symbol;e.exports=r},function(e,t,n){var r=n(73),a=n(74),o=n(75),i=n(76),s=n(77);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(21);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(4)(Object,"create");e.exports=r},function(e,t,n){var r=n(97);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(24),a=n(44);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?a(n,u,l):r(n,u,l)}return n}},function(e,t,n){var r=n(120),a=n(22),o=n(121),i=n(122),s=n(123),c=n(10),u=n(43),l=u(r),f=u(a),p=u(o),d=u(i),h=u(s),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=v(new a)||o&&"[object Promise]"!=v(o.resolve())||i&&"[object Set]"!=v(new i)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clear=t.getConfig=t.registerConfig=t.getRunnable=t.getComponent=t.registerComponent=void 0;var r=new Map,a=new Map;function o(e){if(r.has(e))return r.get(e)()}t.registerComponent=function(e,t){return r.has(e)||r.set(e,t),e},t.getComponent=o,t.getRunnable=function(e){return o(e)},t.registerConfig=function(e,t){a.set(e,t)},t.getConfig=function(e){return a.get(e)||{}},t.clear=function(){r.clear(),a.clear()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearComponent=t.clear=t.getRuntimeConfig=t.saveRuntimeConfig=t.getConfigs=t.getRunnables=t.getConfig=t.registerConfig=t.getComponent=t.registerComponent=void 0;var r=new Map,a=new Map,o=new Map,i=new Map;t.registerComponent=function(e,t){return a.has(e)||a.set(e,t),e},t.getComponent=function(e){if(i.has(e))return i.get(e);if(a.has(e)){var t=a.get(e)();return i.set(e,t),i.get(e)}},t.registerConfig=function(e,t){r.set(e,t)},t.getConfig=function(e){return r.get(e)||{}},t.getRunnables=function(){return Array.from(a)},t.getConfigs=function(){return Array.from(r)},t.saveRuntimeConfig=function(e,t){o.set(e,t)},t.getRuntimeConfig=function(e){return o.get(e)||{props:{},data:{}}},t.clear=function(){a.clear(),r.clear(),o.clear(),i.clear()},t.clearComponent=function(e){a[e]&&delete a[e],r[e]&&delete r[e],o[e]&&delete o[e],i[e]&&delete i[e]}},function(e,t,n){var r=n(72);e.exports=function(e){return r(e,5)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(4)(n(0),"Map");e.exports=r},function(e,t,n){var r=n(89),a=n(96),o=n(98),i=n(99),s=n(100);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(44),a=n(21),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(45),a=n(109),o=n(50);e.exports=function(e){return o(e)?r(e):a(e)}},function(e,t,n){(function(e){var r=n(0),a=n(107),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c}).call(this,n(27)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(42),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s}).call(this,n(27)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(45),a=n(112),o=n(50);e.exports=function(e){return o(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(117),a=n(51),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},function(e,t,n){var r=n(57);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(10),a=n(5);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";(function(e){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.parseQuery=t.isValidDomain=t.getPageInfo=t.extractPageInfo=void 0;var o=n(2),i=n(66),s=e.location;function c(e){var t=r(e.match(/([^?]+)(\?.+)?/)||[],3),n=t[1],a=void 0===n?"":n,o=t[2],i=void 0===o?"":o;a&&"/"===a[0]&&(a=a.slice(1));var s=(i=new URLSearchParams(i)).get("__pageId");i.delete("__pageId");var c="true"===i.get("__worker");i.delete("__worker");var u=i.toString();return u.endsWith("=")&&(u=decodeURIComponent(u.slice(0,u.length-1))),{pageId:s||"0",pagePath:a,queryString:u,isWorker:c}}t.extractPageInfo=c,t.getPageInfo=function(){return c(r(s.href.match(/#(.*)/),2)[1])},t.isValidDomain=function(e){var t=e.replace(/(https?:\/\/)?(www.)?/i,"");return["?","/",":"].forEach((function(e){var n=t.indexOf(e);-1!==n&&(t=t.substring(0,n))})),t.endsWith("tikicdn.com")||t.endsWith("tala.xyz")||t.endsWith("tiki.vn")||t.endsWith("tbox.vn")||"localhost"===t},t.parseQuery=function(e){var t={},n={};try{(n=i.parse(decodeURIComponent(e))).referrerInfo&&(t=JSON.parse(n.referrerInfo))}catch(r){o.default.captureException(r)}return delete n.referrerInfo,{query:i.stringify(Object.assign(Object.assign({},n),t.extraData)),referrerInfo:{appId:t.appId,extraData:t.extraData}}}}).call(this,n(9))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listenersMap=new Map,this.cacheEvents=[]}var t,n,a;return t=e,(n=[{key:"addListener",value:function(e,t){var n=this.listenersMap.get(e);void 0===n?this.listenersMap.set(e,[t]):n.indexOf(t)<0&&n.push(t);var r=this.cacheEvents.find((function(t){return t.event===e}));if(r){var a=r.options;t.call(a)}}},{key:"emit",value:function(e){for(var t=this.listenersMap.get(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(void 0!==t)if(1===t.length){var o=t[0];o.apply(null,r)}else{for(var i=!1,s=null,c=Array.from(t),u=0;u<c.length;u++){var l=c[u];try{l.apply(null,r)}catch(f){null===s&&(i=!0,s=f)}}if(i)throw s}else this.cacheEvents.push({event:e,options:r})}},{key:"removeAllListeners",value:function(){this.listenersMap.clear()}},{key:"removeListener",value:function(e,t){var n=this.listenersMap.get(e);if(void 0!==n){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=new a},function(e,t,n){"use strict";(function(e){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.appInfo=void 0;var c=n(3),u=n(18),l=n(35),f=n(1),p=n(39),d=n(36),h=n(2),v=n(147);t.appInfo={isAppFirstPage:!0};var y=f.default("worker").getChildLogger("WorkerApp");var g=function(){function n(t){var r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.onAppLifecycleEmitter=new c.Emitter,this.onAppLifecycle=this.onAppLifecycleEmitter.event,this.fireAppLifecycleEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.log("[lifecycle] App on",e);var a=e;Array.isArray(e)||(a=[e]),a.forEach((function(e){try{o.onAppLifecycleEmitter.fire({event:e,app:o,args:n});var t=o.publicInstance;if(e in t)return t[e].apply(t,n)}catch(r){y.error("Failed to trigger event ".concat(e," ").concat(r.message),r.stack),h.default.captureException(r)}}))},this.reLaunch=function(e,t){var n=e.url;try{o.clearAllPages(),t({pagePath:o.getPageObject(n).pagePath})}catch(r){o.onUnhandledRejection(r)}},this.popPage=function(e){Object.keys(o.tabCaches).forEach((function(t){var n=o.tabCaches[t];if(n)for(var r=n.length-1;r>=0;r--)n[r].getId()===e.getId()&&(o.tabCaches[t].splice(r,1),delete o.pagesIdMap[e.getId()])}))},this.doSwitchTab=function(e){var t=e.pageId,n=e.currentPage,r=e.pagePath,i=e.queryString;try{if(o.isTabShow()){var s=o.getCurrentPages(),c=o.getPagesByTabPath(r);if((s.length||c.length)&&(s!==c||s.length>1)){for(var u=s.length-1;u>=1;u--)s[u].unload();if(s===c)s[0].show();else{1===s.length&&s[0].hide(),o.setCurrentPages(c,r);var l=a(c,1)[0];if(l)l.fromPage=o.getCurrentPage(),l.show();else o.newPage({pageId:t,pagePath:r,queryString:i}).fromPage=n}}}else{o.clearAllPages(),o.newPage({pageId:t,pagePath:r,queryString:i}).fromPage=n}}catch(f){o.onUnhandledRejection(f)}},this.type="worker",this.currentTabPath=null,this.tabCaches={},this.publicInstance=t,this.shown=!1,this.pagesIdMap={},this.tabBarIdSeq=0,this.tabBarItems={},this.previousMiniAppId=null,r=function(e){o.onError(e)},e.ErrorUtils&&e.ErrorUtils.setGlobalHandler?e.ErrorUtils.setGlobalHandler((function(e){return r(e)})):e.onerror=function(e){r(e)},self.addEventListener("pageUnload",(function(e){var t=e.detail.page;t&&o.popPage(t)}))}var o,i,f;return o=n,(i=[{key:"launch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.info("Launch App with options ".concat(JSON.stringify(e))),this.$launchTime=Date.now(),this.$appOnLaunchTime=Date.now(),this.launchOptions=e,this.appOptions={path:e.pagePath,query:e.query,referrerInfo:e.referrerInfo},this.fireAppLifecycleEvent(["onLaunch","onShow"],this.appOptions),this.shown=!0,y.log("Launched App: ".concat(Date.now()-this.$launchTime,"ms")),d.default.emit("appDidLaunch",e)}},{key:"setSDKVersion",value:function(e){this.sdkVersion=e}},{key:"getSDKVersion",value:function(){return this.sdkVersion}},{key:"hide",value:function(){this.shown=!1;var e=this.getCurrentPage();e&&e.hide(),this.fireAppLifecycleEvent("onHide",{}),d.default.emit("background",{})}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shown=!0;var t=e.referrerInfo;t&&(t=JSON.parse(t));var n={referrerInfo:Object.assign(Object.assign({},t),{extraData:Object.assign({},t&&t.extraData)})};this.fireAppLifecycleEvent("onShow",n);var r=this.getCurrentPage();r&&r.show(),d.default.emit("foreground",e)}},{key:"onError",value:function(e){this.fireAppLifecycleEvent("onError",e),d.default.emit("appError",e)}},{key:"onUnhandledRejection",value:function(e){this.fireAppLifecycleEvent("onUnhandledRejection",e),d.default.emit("appUnhandledRejection",e),h.default.captureException(e)}},{key:"newPage",value:function(e){var t=e.pageId,n=e.pagePath,r=e.queryString,a=this.getPageById(t);if(a){if(a.pagePath!==n)throw new Error("Pagepath does not match");return a}var o=u.getRunnable(n);return o||(o=p.default,y.error("Page ".concat(n," not found!"))),a=new o({pageId:t,pagePath:n,queryString:r}),this.pushPage(a),a}},{key:"getPreviousMiniAppId",value:function(){return this.previousMiniAppId}},{key:"setPreviousMiniAppId",value:function(e){this.previousMiniAppId=e}},{key:"destroyPageById",value:function(e){var t=this.getPageById(e),n=this.getAllPages();t&&n[0].getId()!==t.getId()&&t.unload()}},{key:"isTabShow",value:function(){var e=Object.values(this.tabCaches).filter((function(e){return e.length}));return e.length&&e.every((function(e){return e[0]}))}},{key:"clearAllPages",value:function(){Object.values(this.tabCaches).forEach((function(e){e.forEach((function(e){e.unload()}))})),this.currentTabPath="",this.tabCaches={},this.pagesIdMap={}}},{key:"switchTab",value:function(e,t){var n=this,r=e.url,a=e.pageId,o=this.getCurrentPage(),i=l.extractPageInfo(r),s=i.pagePath,c=i.queryString;t?t({pagePath:s},(function(e){n.doSwitchTab({pageId:e,pagePath:s,url:r,currentPage:o,queryString:c})})):this.doSwitchTab({pageId:a,pagePath:s,url:r,currentPage:o,queryString:c})}},{key:"navigateTo",value:function(e,t){var n=this,r=e.url;try{var a=this.getCurrentPage(),o=v.normalizePagePath(r,a),i=l.extractPageInfo(o),s=i.pagePath,c=i.queryString;a.hide(),t({pagePath:s,queryString:c},(function(e){n.newPage({pageId:e,pagePath:s,queryString:c})}))}catch(u){this.onUnhandledRejection(u)}}},{key:"navigateBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delta,n=void 0===t?1:t,r=arguments.length>1?arguments[1]:void 0;try{var a=this.getCurrentPages().length;if("number"!==typeof n)return;if(1===a)return;n>a&&(n=a-1),r({delta:n})}catch(o){this.onUnhandledRejection(o)}}},{key:"getCurrentPage",value:function(){var e=this.getPageStack();return e[e.length-1]}},{key:"getPageObject",value:function(e){return l.extractPageInfo(e)}},{key:"getPageById",value:function(e){return this.pagesIdMap[e]}},{key:"pushPage",value:function(e){var t=this.getPageStack();if(!t.length){var n=e.getPagePath();this.currentTabPath=n,this.tabCaches[n]=[],t=this.tabCaches[n]}t.push(e),this.pagesIdMap[e.getId()]=e}},{key:"getPageStack",value:function(){var e=this.currentTabPath;return e?(this.tabCaches[e]=this.tabCaches[e]||[],this.tabCaches[e]):[]}},{key:"getCurrentPages",value:function(){var e=this.currentTabPath;return this.tabCaches[e]?this.tabCaches[e]:[]}},{key:"getPublicPages",value:function(){return this.getCurrentPages().map((function(e){return e.publicInstance}))}},{key:"getPagesByTabPath",value:function(e){return this.tabCaches[e]?this.tabCaches[e]:[]}},{key:"getAllPages",value:function(){var e=this;return Object.keys(this.tabCaches).reduce((function(t,n){return[].concat(r(t),r(e.tabCaches[n]))}),[])}},{key:"setCurrentPages",value:function(e,t){var n=t||this.currentTabPath;e.length&&(n=e[0].getPagePath()),this.currentTabPath=n,this.tabCaches[n]=e}},{key:"unload",value:function(){t.appInfo.isAppFirstPage=!0,this.fireAppLifecycleEvent("onAppUnload"),self.dispatchEvent(new Event("onAppUnload"))}}])&&s(o.prototype,i),f&&s(o,f),n}();t.default=g}).call(this,n(9))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.LogType=t.default=void 0;var a=Object.freeze({error:"error",warn:"warn",info:"info",log:"log",debug:"debug",logPerf:"logPerf",reportPref:"reportPref"});t.LogType=a;var o=Symbol("logger raw log method"),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[o]=t,this.getChildLogger=n}var t,n,i;return t=e,(n=[{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[o](a.error,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[o](a.warn,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[o](a.info,t)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[o](a.log,t)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[o](a.debug,t)}},{key:"logPerf",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this[o](a.logPerf,t)}},{key:"reportPref",value:function(){this[o](a.reportPref)}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=n(3),u=n(7),l=n(18),f=n(19),p=n(20),d=n(1),h=n(2),v=n(37),y=n(58),g=function(e,t){var n=y.mergeDeep({},e);return n=y.mergeDeep(n,t)},b=function(e,t){return y.spliceDeep(e,t)},m=d.default("worker").getChildLogger("WorkerPage"),k=0,w=function(){function e(t){var n=this,r=t.pageId,o=t.pagePath,i=t.queryString;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onPageLifecycleEmitter=new c.Emitter,this.onPageLifecycle=this.onPageLifecycleEmitter.event,this.onSetDataEmitter=new c.Emitter,this.onSetData=this.onSetDataEmitter.event,this.onSetDataCallbackEmitter=new c.Emitter,this.onSetDataCallback=this.onSetDataEmitter.event,this.onSocketOpenEmitter=new c.Emitter,this.onSocketOpenEmitterFire=function(e){return n.onSocketOpenEmitter.fire(e)},this.onSocketOpen=this.onSocketOpenEmitter.event,this.onSocketTaskOpenEmitter=new c.Emitter,this.onSocketTaskOpenEmitterFire=function(e){return n.onSocketTaskOpenEmitter.fire(e)},this.onSocketTaskOpen=this.onSocketTaskOpenEmitter.event,this.onSocketErrorEmitter=new c.Emitter,this.onSocketErrorEmitterFire=function(e){return n.onSocketErrorEmitter.fire(e)},this.onSocketError=this.onSocketErrorEmitter.event,this.onSocketTaskErrorEmitter=new c.Emitter,this.onSocketTaskErrorEmitterFire=function(e){return n.onSocketTaskErrorEmitter.fire(e)},this.onSocketTaskError=this.onSocketTaskErrorEmitter.event,this.onSocketMessageEmitter=new c.Emitter,this.onSocketMessageEmitterFire=function(e){return n.onSocketMessageEmitter.fire(e)},this.onSocketMessage=this.onSocketMessageEmitter.event,this.onSocketTaskMessageEmitter=new c.Emitter,this.onSocketTaskMessageEmitterFire=function(e){return n.onSocketTaskMessageEmitter.fire(e)},this.onSocketTaskMessage=this.onSocketTaskMessageEmitter.event,this.onSocketCloseEmitter=new c.Emitter,this.onSocketCloseEmitterFire=function(e){return n.onSocketCloseEmitter.fire(e)},this.onSocketClose=this.onSocketCloseEmitter.event,this.onSocketTaskCloseEmitter=new c.Emitter,this.onSocketTaskCloseEmitterFire=function(e){return n.onSocketTaskCloseEmitter.fire(e)},this.onSocketTaskClose=this.onSocketTaskCloseEmitter.event,this.onRenderEvent=function(e){var t=n.publicInstance,r=t[e];if(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return n.executeUserFunction(t,r,o)}m.warn("Unhandle ".concat(e," event"))},this.onComponentRenderEvent=function(e,t){var r=n.getComponentById(e);if(r){var a=r.publicInstance,o=a.methods,i=o[t];if(i){for(var s=arguments.length,c=new Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];return n.executeUserFunction(a,i,c)}}else m.warn("[worker][WorkerPage] Cannot find instance of component id ".concat(e))},this.setRemoteData=function(e,t){n.endpoint&&(Array.isArray(e)?n.pendingData.push.apply(n.pendingData,e):n.pendingData.push(e),t&&n.pendingCallbacks.push(t),n.isBatching()||n.flushToRender())},this.appUnload=function(){u.getApp().unload()},this.unload=function(){m.info("Page onUnload ".concat(n.pagePath)),!n.unloaded&&n.$loadTime&&(n.unloaded=!0,n.clearEndPort(),n.unmountAllComponents()),n.firePageLifecycleEvent(["onUnload","pageUnload"])},this.getComponentConfig=function(e){var t=Object.values(e||{}),n=a(t);return t.forEach((function(e){var t=(f.getConfig(e)||{}).system,r=(void 0===t?{}:t).usingComponents;r&&(n=n.concat(Object.values(r)))})),n.reduce((function(e,t){var n,r,a,o=(f.getConfig(t)||{}).user,i=void 0===o?{}:o,s=i.data,c=i.props,u=void 0===c?{}:c;return Object.assign(Object.assign({},e),(a={props:u,data:s||{}},(r=t)in(n={})?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n))}),{})},this.onPageScroll=function(e){n.firePageLifecycleEvent("onPageScroll",e)},this.onReachBottom=function(){n.firePageLifecycleEvent("onReachBottom")},this.onWindowResize=function(e){n.firePageLifecycleEvent("onResize",{size:e})},this.onPullDownRefresh=function(e){n.firePageLifecycleEvent("onPullDownRefresh",e)},this.ready=function(e){n.unloaded||n.readied||(n.readied=!0,n.$readyTime=Date.now(),n.updateComponents(e),n.firePageLifecycleEvent("onReady"))},this.update=function(e){e&&n.updateComponents(e)},this.firePageLifecycleEvent=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var o=e;Array.isArray(e)||(o=[e]),o.forEach((function(e){try{self.dispatchEvent(new CustomEvent(e,{detail:{page:n}})),n.onPageLifecycleEmitter.fire({event:e,page:n,args:r});var t=n.publicInstance;if(e in t)return t[e].apply(t,r)}catch(a){m.error("Failed to trigger event ".concat(e," ").concat(a.message),a.stack),h.default.captureException(a)}}))},this.onTabItemTap=function(e){var t=e.pagePath,r=e.index,a=e.text,o=e.pageId;(n.firePageLifecycleEvent("onTabItemTap",{pagePath:t,index:r,text:a}),o!==n.pageId)&&u.getApp().switchTab({pageId:o,url:t})},this.onFocus=function(){n.shown||n.show()},this.onBlur=function(){n.shown&&n.hide()},this.pullToRefresh=function(e){var t=e.data,r=(t=void 0===t?{}:t).from,a=void 0===r?"manual":r;n.onPullDownRefresh({from:a})},this.onShare=function(e){n.onShareAppMessage(e)},this.onAppPause=function(){u.getApp().hide()},this.onAppResume=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.getApp().show(e)},this.onAppError=function(e){u.getApp().onError(e)},this.onAppUnhandledRejection=function(e){u.getApp().onUnhandledRejection(e)},this.componentInstances={},Object.assign(this,{pageId:r,pagePath:o,queryString:i,pendingData:[],pendingCallbacks:[],type:"worker",$startTime:Date.now()});var s=l.getConfig(o),d=s.user,v=void 0===d?{}:d,y=s.system,k=void 0===y?{}:y,w=Object.create(p(Object.assign(Object.assign({route:o},v),k)));w.setData=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setData.apply(n,[g].concat(t))},w.$spliceData=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setData.apply(n,[b].concat(t))},w.$batchedUpdates=function(){n.batchedUpdates.apply(n,arguments)},"function"===typeof w.data&&(w.data=w.data()||{}),w.data=w.data||{},this.publicInstance=w}var t,n,o;return t=e,(n=[{key:"executeUserFunction",value:function(e,t,n){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)try{for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.apply(t,r)}catch(i){var o=u.getApp();o.onError&&o.onError(i.message),t.onError&&t.onError.apply(t,[i.message]),h.default.captureException(i),m.error('Could not execute user function "'.concat(e,'": "').concat(i.message,'"'))}}).apply(null,[t,e].concat(a(n)))}},{key:"unmountAllComponents",value:function(){var e=Object.values(this.getAllComponents());this.componentInstances={},e.forEach((function(e){e.unload()}))}},{key:"unmountComponents",value:function(e){var t=this;e.forEach((function(e){var n=t.getComponentById(e);n&&(n.unload(),t.removeComponent(n))}))}},{key:"getAllComponents",value:function(){return this.componentInstances}},{key:"addComponent",value:function(e){var t=e.id;this.componentInstances[t]=e}},{key:"removeComponent",value:function(e){var t=e.id;delete this.componentInstances[t]}},{key:"getComponentById",value:function(e){return this.componentInstances[e]}},{key:"getId",value:function(){return this.pageId}},{key:"getPagePath",value:function(){return this.pagePath}},{key:"setData",value:function(e,t,n){var r=this,a=this.id;if(this.endpoint)if(this.unloaded)console.warn("setData(...) can only update loaded page.");else{var o=this.publicInstance.data;this.publicInstance.data=e(o,t);var i=++k;this.onSetDataEmitter.fire({requestId:i,componentType:"page",data:t,page:this}),this.isIniting||this.setRemoteData({op:e===b?"splice":"merge",componentType:"page",componentId:a,data:t},(function(){r.onSetDataCallbackEmitter.fire({requestId:i,componentType:"page",page:r,data:t}),n&&n()}))}}},{key:"batchedUpdates",value:function(e){if(this.endpoint){if(this.isBatching())return e();this.endpoint.runBatch(e),this.flushToRender()}}},{key:"isBatching",value:function(){return this.endpoint.isBatching}},{key:"flushToRender",value:function(){if(this.endpoint&&(this.pendingData.length||this.endpoint.hasPendingMessages())){var e=this.pendingData,t=this.pendingCallbacks,n=void 0===t?[]:t;e.length&&(this.pendingData=[],this.pendingCallbacks=[],this.endpoint.unshiftPendingMessage("page",{method:"receiveData",args:[{pendingData:e,workerTime:Date.now()}]},(function(){n.forEach((function(e){return e()}))}))),this.endpoint.flushPendingMessages()}}},{key:"setEndpoint",value:function(e){this.endpoint=e,e.setPage(this)}},{key:"callRender",value:function(e){if(this.endpoint){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];"function"===typeof r[r.length-1]&&(t=r.pop()),this.endpoint.unshiftPendingMessage("page",{method:e,args:r},t),this.endpoint.flushPendingMessages()}}},{key:"callRenderNativeComponent",value:function(e,t){if(!this.unloaded&&this.endpoint){for(var n,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];(n=this.endpoint).callRemotePageNativeComponent.apply(n,[e,t].concat(a))}}},{key:"hide",value:function(){!this.unloaded&&this.$loadTime&&this.shown&&(this.shown=!1,this.firePageLifecycleEvent("onHide"),m.log("Page onHide ".concat(this.pagePath)))}},{key:"refresh",value:function(){this.unmountAllComponents(),this.startRender({isRefresh:!0})}},{key:"clearEndPort",value:function(){this.endpoint.destroy(),this.endpoint=null}},{key:"load",value:function(){this.prepareForLoad(),this.$preload=!1,this.isIniting=!1,this.startRender(),m.info("Page loaded in ".concat(Date.now()-this.$loadTime,"ms"))}},{key:"prepareForLoad",value:function(){this.$preload||this.$loadTime||(m.info('Page onLoad "'.concat(this.pagePath,'"')),this.$preload=!0,this.$loadTime=Date.now(),this.isIniting=!0,this.firePageLifecycleEvent(["onLoad","pageLoad"],this.queryString),u.getApp().shown&&this.show())}},{key:"getPublicInstanceMethods",value:function(){return["onShareAppMessage","onReachBottom","onPageScroll","onReady"]}},{key:"startRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isRefresh,n=s(e,["isRefresh"]),r=this.publicInstance,a=this.pageId,o=r.data,i=r.usingComponents,c=this.getComponentConfig(i),u=this.getPublicInstanceMethods().reduce((function(e,t){return"function"===typeof r[t]&&(e[t]=!0),e}),{});this.callRender("startRender",Object.assign({pageId:a,publicInstance:u,data:o,isRefresh:t,componentsConfig:c,isAppFirstPage:v.appInfo.isAppFirstPage,workerTime:Date.now(),workerPageStartTime:this.$startTime},n)),v.appInfo.isAppFirstPage&&(this.isAppFirstPage=!0,v.appInfo.isAppFirstPage=void 0)}},{key:"show",value:function(){!this.unloaded&&this.endpoint&&this.$loadTime&&(this.$loadTime?this.shown||(m.log('Page onShow "'.concat(this.pagePath,'"')),this.shown=!0,this.firePageLifecycleEvent("onShow")):this.load())}},{key:"updateComponents",value:function(e){var t=this,n=e.update,r=void 0===n?[]:n,a=e.remove,o=void 0===a?[]:a,i=[];r.forEach((function(e){var n=e.is,r=e.id,a=e.props,o=t.getComponentById(r);if(o)o.setComponentConfig(a);else{var s=f.getComponent(n);if(!s)throw new Error("Cannot find component ".concat(n));(o=new s(t,n,r,a)).onSetData((function(e){t.onSetDataEmitter.fire(e)})),o.onSetDataCallback((function(e){t.onSetDataCallbackEmitter.fire(e)})),t.addComponent(o),i.push(o)}return o})),i.forEach((function(e){return e.ready()})),this.unmountComponents(o.concat().reverse())}},{key:"isLoaded",value:function(){return this.$loadTime&&!this.unloaded}},{key:"getEventHandler",value:function(e){var t=e.name,n=e.componentId;if(!n){var r=this.publicInstance,a=r[t];return a?a.bind(r):t}var o=this.getComponentById(n);if(o){var i=o.publicInstance,s=i.methods[t];return s?s.bind(i):t}return t}},{key:"onShareAppMessage",value:function(){var e={from:"menu"},t=u.getApp();if(this.publicInstance.onShareAppMessage){var n=this.publicInstance.onShareAppMessage,a=n.call(this.publicInstance,e);"object"===r(a)&&my.shareApp(a)}else if(t.publicInstance.onShareAppMessage){var o=t.publicInstance.onShareAppMessage.call(t.publicInstance,e);r(o)&&my.shareApp(o)}else my.shareApp({})}},{key:"onCustomIconEvent",value:function(e){var t=e.data;if(this.publicInstance.onCustomIconEvent){var n=this.publicInstance.onCustomIconEvent;n.call(this.publicInstance,t)}else console.log("No onCustomIconEvent handle on this page")}}])&&i(t.prototype,n),o&&i(t,o),e}();t.default=w},function(e,t,n){var r=n(12),a=n(78),o=n(79),i=n(80),s=n(81),c=n(82);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(10),a=n(8);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(9))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(102);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(104),a=n(105),o=n(6),i=n(26),s=n(46),c=n(47),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&a(e),f=!n&&!l&&i(e),p=!n&&!l&&!f&&c(e),d=n||l||f||p,h=d?r(e.length,String):[],v=h.length;for(var y in e)!t&&!u.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(108),a=n(28),o=n(29),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(41),a=n(48);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(53),a=n(54),o=n(32),i=n(51),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(49)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(56),a=n(32),o=n(25);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(53),a=n(6);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},function(e,t,n){var r=n(0).Uint8Array;e.exports=r},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||s(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return e}(e)||s(e)||o(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.spliceDeep=t.mergeDeep=void 0;var c=n(136),u=n(145),l=n(20);t.mergeDeep=function(e,t){var n=l(e);return Object.keys(t).forEach((function(e){c(n,e,u(t,e,null))})),n};t.spliceDeep=function(e,t){var n=l(e);return Object.keys(t).forEach((function(e){var o=u(n,e,null),i=u(t,e,null);if(Array.isArray(o)&&Array.isArray(i)){var s=a(i),l=s[0],f=s[1],p=s.slice(2);o.splice.apply(o,[l,f].concat(r(p))),c(n,e,o)}})),n}},function(e,t,n){var r=n(6),a=n(138),o=n(139),i=n(142);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},function(e,t,n){var r=n(34);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(155),a=n(158),o=n(159);e.exports=function(e,t,n,i,s,c){var u=1&n,l=e.length,f=t.length;if(l!=f&&!(u&&f>l))return!1;var p=c.get(e),d=c.get(t);if(p&&d)return p==t&&d==e;var h=-1,v=!0,y=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<l;){var g=e[h],b=t[h];if(i)var m=u?i(b,g,h,t,e,c):i(g,b,h,e,t,c);if(void 0!==m){if(m)continue;v=!1;break}if(y){if(!a(t,(function(e,t){if(!o(y,t)&&(g===e||s(g,e,n,i,c)))return y.push(t)}))){v=!1;break}}else if(g!==b&&!s(g,b,n,i,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableCollection=t.Disposable=void 0;var i,s=n(3);!function(e){function t(e){return{dispose:e}}e.is=function(e){return!!e&&"object"===o(e)&&"dispose"in e&&"function"===typeof e.dispose},e.create=t,e.NULL=t((function(){}))}(i=t.Disposable||(t.Disposable={}));var c=function(){function e(){var t=this;r(this,e),this.disposables=[],this.onDisposeEmitter=new s.Emitter,this.disposingElements=!1;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];a.forEach((function(e){return t.push(e)}))}var t,n,o;return t=e,(n=[{key:"onDispose",get:function(){return this.onDisposeEmitter.event}},{key:"checkDisposed",value:function(){this.disposed&&!this.disposingElements&&(this.onDisposeEmitter.fire(void 0),this.onDisposeEmitter.dispose())}},{key:"disposed",get:function(){return 0===this.disposables.length}},{key:"dispose",value:function(){if(!this.disposed&&!this.disposingElements){for(this.disposingElements=!0;!this.disposed;)try{this.disposables.pop().dispose()}catch(e){console.error(e)}this.disposingElements=!1,this.checkDisposed()}}},{key:"push",value:function(e){var t=this,n=this.disposables;n.push(e);var r=e.dispose.bind(e),a=i.create((function(){var r=n.indexOf(e);-1!==r&&n.splice(r,1),t.checkDisposed()}));return e.dispose=function(){a.dispose(),r()},a}},{key:"pushAll",value:function(e){var t=this;return e.map((function(e){return t.push(e)}))}}])&&a(t.prototype,n),o&&a(t,o),e}();t.DisposableCollection=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.checkCancelled=t.isCancelled=t.cancelled=t.CancellationTokenSource=t.CancellationToken=void 0;var i,s=n(3),c=Object.freeze(Object.assign((function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}}),{maxListeners:0}));!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:s.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:c})}(i=t.CancellationToken||(t.CancellationToken={}));var u=function(){function e(){r(this,e),this._isCancelled=!1}return o(e,[{key:"cancel",value:function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}},{key:"isCancellationRequested",get:function(){return this._isCancelled}},{key:"onCancellationRequested",get:function(){return this._isCancelled?c:(this._emitter||(this._emitter=new s.Emitter),this._emitter.event)}}]),e}(),l=function(){function e(){r(this,e)}return o(e,[{key:"token",get:function(){return this._token||(this._token=new u),this._token}},{key:"cancel",value:function(){this._token?this._token!==i.Cancelled&&this._token.cancel():this._token=i.Cancelled}},{key:"dispose",value:function(){this.cancel()}}]),e}();t.CancellationTokenSource=l;function f(){return new Error("Cancelled")}t.cancelled=f,t.isCancelled=function(e){return!!e&&"Cancelled"===e.message},t.checkCancelled=function(e){if(e&&e.isCancellationRequested)throw f()}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a="undefined"!==typeof self.document;t.default=function(e){var t=e.url,n=e.id,o=e.nonce,i=e.crossorigin;return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){if(a){var s=document.getElementById(n);if(s){var c=s.getAttribute("data-state");if(s.src===t&&"error"!==c){if("ready"===c)return e(n);var u=s.onerror;return void(s.onerror=function(e){u&&u(e),r(e)})}s.remove()}var l=document.createElement("script");l.type="text/javascript",l.src=t,l.id=n,l.async=!0,l.nonce=o,l.crossOrigin=i||null,l.onerror=function(e){l.setAttribute("data-state","error"),r(e)},l.onload=function(){l.setAttribute("data-state","ready"),e(n)},document.head.appendChild(l)}else e(importScripts(t))})).catch((function(e){throw console.error("injectScript error: ",e),e})));case 1:case"end":return e.stop()}}),e)})))}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new P(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var l={};function f(){}function p(){}function d(){}var h={};h[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(h=y);var g=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=g.constructor=d,d.constructor=p,p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(m.prototype),m.prototype[o]=function(){return this},e.AsyncIterator=m,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new m(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,i,"Generator"),g[a]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";const r=n(67),a=n(68),o=n(69),i=n(70);function s(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?a(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!a&&u(n,e).includes(e.arrayFormatSeparator);n=o?u(n,e):n;const i=a||o?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){if(""===a)continue;let[e,i]=o(t.decode?a.replace(/\+/g," "):a,"=");i=void 0===i?null:["comma","separator"].includes(t.arrayFormat)?i:u(i,t),n(u(e,t),i,r)}for(const a of Object.keys(r)){const e=r[a];if("object"===typeof e&&null!==e)for(const n of Object.keys(e))e[n]=p(e[n],t);else r[a]=p(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=f,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>{return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",a,"]"].join("")]:[...n,[c(t,e),"[",c(a,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null===r||void 0===r||0===r.length?n:0===n.length?[[c(t,e),"=",c(r,e)].join("")]:[[n,c(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}}(t),a={};for(const i of Object.keys(e))n(i)||(a[i]=e[i]);const o=Object.keys(a);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const a=e[n];return void 0===a?"":null===a?c(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):c(n,t)+"="+c(a,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",a=t.extract(e.url),o=t.parse(a,{sort:!1}),i=Object.assign(o,e.query);let s=t.stringify(i,n);s&&(s="?"+s);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+c(e.fragmentIdentifier,n)),`${r}${s}${u}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:a,query:o,fragmentIdentifier:s}=t.parseUrl(e,r);return t.stringifyUrl({url:a,query:i(o,n),fragmentIdentifier:s},r)},t.exclude=(e,n,r)=>{const a=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,a,r)}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(a){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function i(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=a.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var o=i(r[0]);o!==r[0]&&(n[r[0]]=o)}r=a.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),c=0;c<s.length;c++){var u=s[c];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),a=Array.isArray(t),o=0;o<r.length;o++){var i=r[o],s=e[i];(a?-1!==t.indexOf(i):t(i,s,e))&&(n[i]=s)}return n}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),c={none:6,false:6,error:5,warn:4,info:3,log:2,true:2,verbose:1};t.default=function(e){var t=e.level,n=void 0===t?"info":t,o=e.debug,i=void 0!==o&&o,u=e.console,l=c["".concat(n)]||0,f=[];return function(e,t,n){var o=function(){return Array.isArray(n)?n.length>0&&"string"===typeof n[0]?["[".concat(e,"] ").concat(n[0])].concat(a(n.slice(1))):["[".concat(e,"]")].concat(a(n)):[]};switch(t){case s.LogType.logPerf:var p=r(n,2),d=p[0],h=p[1];f.push({metric:d,value:h});break;case s.LogType.reportPref:f.forEach((function(e){u.info("[system]","[perf] ".concat(e.metric,": ").concat(e.value,"ms"))}));break;case s.LogType.log:if(!i&&l>c.log)return;u.log.apply(u,a(o()));break;case s.LogType.info:if(!i&&l>c.info)return;u.info.apply(u,a(o()));break;case s.LogType.warn:if(!i&&l>c.warn)return;u.warn.apply(u,a(o()));break;case s.LogType.error:if(!i&&l>c.error)return;u.error.apply(u,a(o()));break;case s.LogType.trace:if(!i)return;u.trace();break;default:throw new Error("Unexpected LogType ".concat(t))}}}},function(e,t,n){var r=n(40),a=n(101),o=n(24),i=n(103),s=n(111),c=n(114),u=n(115),l=n(116),f=n(118),p=n(55),d=n(119),h=n(17),v=n(124),y=n(125),g=n(130),b=n(6),m=n(26),k=n(132),w=n(8),j=n(134),P=n(25),_=n(31),A={};A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A["[object Function]"]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,C,S,O,E){var I,x=1&n,T=2&n,M=4&n;if(C&&(I=O?C(t,S,O,E):C(t)),void 0!==I)return I;if(!w(t))return t;var R=b(t);if(R){if(I=v(t),!x)return u(t,I)}else{var L=h(t),D="[object Function]"==L||"[object GeneratorFunction]"==L;if(m(t))return c(t,x);if("[object Object]"==L||"[object Arguments]"==L||D&&!O){if(I=T||D?{}:g(t),!x)return T?f(t,s(I,t)):l(t,i(I,t))}else{if(!A[L])return O?t:{};I=y(t,L,x)}}E||(E=new r);var B=E.get(t);if(B)return B;E.set(t,I),j(t)?t.forEach((function(r){I.add(e(r,n,C,r,t,E))})):k(t)&&t.forEach((function(r,a){I.set(a,e(r,n,C,a,t,E))}));var N=R?void 0:(M?T?d:p:T?_:P)(t);return a(N||t,(function(r,a){N&&(r=t[a=r]),o(I,a,e(r,n,C,a,t,E))})),I}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(13),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(13);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(13);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(12);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(12),a=n(22),o=n(23);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(41),a=n(86),o=n(8),i=n(43),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?p:s).test(i(e))}},function(e,t,n){var r=n(11),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(87),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(0)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(90),a=n(12),o=n(22);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},function(e,t,n){var r=n(91),a=n(92),o=n(93),i=n(94),s=n(95);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(14);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(14),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(14),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(14);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(15);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(15);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(15);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(15);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(4),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},function(e,t,n){var r=n(16),a=n(25);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(106),a=n(5),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(10),a=n(5);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(10),a=n(48),o=n(5),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},function(e,t,n){var r=n(30),a=n(110),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(49)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(16),a=n(31);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(8),a=n(30),o=n(113),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(0),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(27)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(16),a=n(32);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},function(e,t,n){var r=n(16),a=n(52);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(56),a=n(52),o=n(31);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(4)(n(0),"DataView");e.exports=r},function(e,t,n){var r=n(4)(n(0),"Promise");e.exports=r},function(e,t,n){var r=n(4)(n(0),"Set");e.exports=r},function(e,t,n){var r=n(4)(n(0),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(33),a=n(126),o=n(127),i=n(128),s=n(129);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return i(e)}}},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(11),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(131),a=n(54),o=n(30);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},function(e,t,n){var r=n(8),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(133),a=n(28),o=n(29),i=o&&o.isMap,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(17),a=n(5);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(135),a=n(28),o=n(29),i=o&&o.isSet,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(17),a=n(5);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(137);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(24),a=n(59),o=n(46),i=n(8),s=n(60);e.exports=function(e,t,n,c){if(!i(e))return e;for(var u=-1,l=(t=a(t,e)).length,f=l-1,p=e;null!=p&&++u<l;){var d=s(t[u]),h=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(u!=f){var v=p[d];void 0===(h=c?c(v,d,p):void 0)&&(h=i(v)?v:o(t[u+1])?[]:{})}r(p,d,h),p=p[d]}return e}},function(e,t,n){var r=n(6),a=n(34),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(140),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},function(e,t,n){var r=n(141);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(23);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(143);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(11),a=n(144),o=n(6),i=n(34),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){var r=n(146);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){var r=n(59),a=n(60);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePagePath=void 0,t.normalizePagePath=function(e,t){var n,a=e;if(-1!==a.indexOf("?")&&(n=a.slice(a.indexOf("?")+1),a=a.slice(0,a.indexOf("?"))),"/"===a.charAt(0))a=a.slice(1);else if(t){var o=t.getPagePath();o&&(a.startsWith("./")||a.startsWith("../"))&&(a=function(e,t){var n=t.split("/");n[n.length-1]&&n.pop();for(var a=[].concat(r(n),r(e.split("/"))),o=[],i=0;i<a.length;i++){var s=a[i];s&&"."!==s&&(".."===s?o.pop():o.push(s))}return o.join("/")}(a,o)),"/"===a.charAt(0)&&(a=a.slice(1))}return"".concat(a).concat(n?"?".concat(n):"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),a=n(39),o=n(1).default("worker").getChildLogger("UserWorkerPage");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$global,n=t.currentPageConfig;if(n){var i=n.pagePath;r.registerConfig(i,{user:e,system:n}),r.registerComponent(i,(function(){return a.default})),o.log('Registered page "'.concat(i,'"'))}else o.warn("Invalid page usage")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a=n(1).default("worker").getChildLogger("UserWorkerApp");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.getApp();if(!t)return r.registerApp(e),a.log("[worker] Registered App"),e;a.error("[worker][UserWorkerApp] App() can only be called once")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=n(151),o=n(1).default("worker").getChildLogger("UserWorkerComponent");t.default=function(e){var t=$global.currentComponentConfig,n=t.is;n?(r.registerConfig(n,{user:e,system:t}),r.registerComponent(n,(function(){return a.default})),o.log('[worker][UserWorkerComponent] Registered component "'.concat(n,'".'))):o.warn("[worker][UserWorkerComponent] Invalid component usage.")}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=n(20),i=n(152),s=n(1),c=n(3),u=n(2),l=n(58),f=function(e,t){var n=l.mergeDeep({},e);return n=l.mergeDeep(n,t)},p=function(e,t){return l.spliceDeep(e,t)},d=s.default("worker").getChildLogger("WorkerComponent"),h=0,v=function(){function e(t,n,r,i){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onSetDataEmitter=new c.Emitter,this.onSetData=this.onSetDataEmitter.event,this.onSetDataCallbackEmitter=new c.Emitter,this.onSetDataCallback=this.onSetDataEmitter.event,this.fireComponentLifeCycleEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e;Array.isArray(e)||(a=[e]),a.forEach((function(e){try{var t=s.publicInstance;if(e in t)return t[e].apply(t,n)}catch(r){d.error("[worker][WorkerComponent] Failed to trigger event ".concat(e," ").concat(r.message),r.stack),u.default.captureException(r)}}))},this.page=t,this.id=r,this.is=n;var l=a.getConfig(n),h=l.user,v=l.system,y=Object.create(o(Object.assign(Object.assign({},h),v)));y.is=n,y.$id=r,y.$page=t.publicInstance,y.setData=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.setData.apply(s,[f].concat(t))},y.$spliceData=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.setData.apply(s,[p].concat(t))},"function"===typeof y.data&&(y.data=y.data()||{}),y.data=y.data||{},y.props=Object.assign(Object.assign({},h.props||{}),i||{});var g=h.methods;g&&Object.keys(g).forEach((function(e){y.hasOwnProperty(e)||(y[e]=g[e])})),this.prevData=y.data,this.publicInstance=y,this.fireComponentLifeCycleEvent("onInit"),this.setComponentConfig(i)}var t,n,s;return t=e,(n=[{key:"setData",value:function(e,t,n){var r=this;if(this.unloaded)console.warn("setData(...) can only update a mounted component.");else{var a=this.publicInstance.data,o=this.prevData,i=this.publicInstance.props;this.prevData=a,this.publicInstance.data=e(a,t);var s=++h;this.onSetDataEmitter.fire({requestId:s,componentType:"component",data:t,component:this}),this.page.setRemoteData({op:e===p?"splice":"merge",componentType:"component",componentId:this.id,data:t},(function(){r.onSetDataCallbackEmitter.fire({requestId:s,componentType:"component",data:t,component:r}),n&&n()})),this.fireComponentLifeCycleEvent("didUpdate",i,o)}}},{key:"setComponentConfig",value:function(e){var t=this.prevData,n=this.publicInstance.props,r=this.normalizeProps(e||{});this.publicInstance.props=r,function(e,t){try{var n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(t));return i(n,r)}catch(a){return u.default.captureException(a),!1}}(r,n)||(this.fireComponentLifeCycleEvent("didUpdate",n,t),this.fireComponentLifeCycleEvent("deriveDataFromProps",r))}},{key:"normalizeProps",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){r.match(/^(on|catch)[A-Z]/)?n[r]=t.page.getEventHandler(e[r]):n[r]=e[r]})),Object.assign(Object.assign({},this.publicInstance.props||{}),n)}},{key:"ready",value:function(){this.fireComponentLifeCycleEvent("didMount")}},{key:"update",value:function(){this.fireComponentLifeCycleEvent("didUpdate")}},{key:"unload",value:function(){this.unloaded=!0,this.fireComponentLifeCycleEvent("didUnmount")}}])&&r(t.prototype,n),s&&r(t,s),e}();t.default=v},function(e,t,n){var r=n(153);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=n(154),a=n(5);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,o,i,e,s))}},function(e,t,n){var r=n(40),a=n(61),o=n(160),i=n(163),s=n(17),c=n(6),u=n(26),l=n(47),f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,h,v){var y=c(e),g=c(t),b=y?"[object Array]":s(e),m=g?"[object Array]":s(t),k=(b="[object Arguments]"==b?f:b)==f,w=(m="[object Arguments]"==m?f:m)==f,j=b==m;if(j&&u(e)){if(!u(t))return!1;y=!0,k=!1}if(j&&!k)return v||(v=new r),y||l(e)?a(e,t,n,d,h,v):o(e,t,b,n,d,h,v);if(!(1&n)){var P=k&&p.call(e,"__wrapped__"),_=w&&p.call(t,"__wrapped__");if(P||_){var A=P?e.value():e,C=_?t.value():t;return v||(v=new r),h(A,C,n,d,v)}}return!!j&&(v||(v=new r),i(e,t,n,d,h,v))}},function(e,t,n){var r=n(23),a=n(156),o=n(157);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(11),a=n(57),o=n(21),i=n(61),s=n(161),c=n(162),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&r;if(d||(d=c),e.size!=t.size&&!h)return!1;var v=p.get(e);if(v)return v==t;r|=2,p.set(e,t);var y=i(d(e),d(t),r,u,f,p);return p.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(55),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var f=l;f--;){var p=u[f];if(!(c?p in t:a.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var y=c;++f<l;){var g=e[p=u[f]],b=t[p];if(o)var m=c?o(b,g,p,t,e,s):o(g,b,p,e,t,s);if(!(void 0===m?g===b||i(g,b,n,o,s):m)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.KernelAPI=void 0;var s,c=n(3),u=n(62),l=n(2),f=function(){function e(t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.env=t,this.port=n,this.type=r,this.callbackPool={},this.runtimeEventEmitter=new c.Emitter,this.onRuntimeEvent=this.runtimeEventEmitter.event,this.apiToRes={},this.onMessage=function(e){var t=e.data,n="string"===typeof t?JSON.parse(t):t,r=n.method;a[r]&&a[r](n)},this.invokeCallbackSync=function(e){var t=e.requestId,n=e.result;t&&a.apiToRes[t]&&(a.apiToRes[t].readyState=4,a.apiToRes[t].responseText=JSON.stringify(n))},this.port.onmessage=this.onMessage}var t,n,r;return t=e,(n=[{key:"updateEnv",value:function(e){this.env=e}},{key:"addEventListener",value:function(e,t){var n=this;return this.callBridgeAsync("attachEvent","attachEvent",e,(function(e){t(e)})),u.Disposable.create((function(){n.callBridgeAsync("detachEvent","detachEvent",e)}))}},{key:"callBridgeAsync",value:function(e,t){for(var n,r=this,a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];var s=o[o.length-1];if("function"===typeof s){var c=Object.keys(this.callbackPool).find((function(e){return r.callbackPool[e]===s}));c?n=parseInt(c):(n=this.generateCallbackId(),this.callbackPool[n]=s),o.pop()}var u=Object.assign(Object.assign({callId:this.getImpl(t)},n&&{callbackId:n}),{params:{args:o,method:e}});return this.port.postMessage(JSON.stringify(u,null,2)),n}},{key:"callBridgeSync",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if("worker"===this.type){try{var o=encodeURIComponent(JSON.stringify(r)),i=this.generateCallbackId(),s=new XMLHttpRequest;if(s.open("GET","miniapp-resource://tinibridge/".concat(e,"?requestId=").concat(i,"&path=").concat(t,"&args=").concat(o),!1),s.send(null),200===s.status){var c=JSON.parse(s.responseText);if(c)return c}}catch(h){}return null}if("render"===this.type){var u=r[r.length-1];if(this.apiToRes[u]){var l=this.apiToRes[u],f=l.readyState,p=l.responseText;if(4===f)return p}else{this.apiToRes[u]={readyState:3,responseText:void 0};var d={callId:this.getImpl(t),requestId:u,params:{args:r.slice(0,r.length-1),method:e}};this.port.postMessage(JSON.stringify(d,null,2))}}}},{key:"generateCallbackId",value:function(){return Math.floor(1e6*Math.random())}},{key:"invokeCallback",value:function(e){var t=e.callbackId,n=e.args;t&&this.callbackPool[t]&&this.callbackPool[t].apply(null,n)}},{key:"injectJavaScript",value:function(e){var t=e.callId,n=e.args,r=null,o=null;try{r=eval.apply(void 0,a(n))}catch(s){o=s.message,l.default.captureException(s)}if(t&&this.port){var i={callId:t,params:{args:[r,o]}};this.port.postMessage(JSON.stringify(i,null,2))}}},{key:"getRefByPath",value:function(e,t){if("string"===typeof t&&e){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<n.length;r++){var a=n[r];if(!(a in e))return;e=e[a]}return e}}},{key:"hasImpl",value:function(e){return!!this.getRefByPath(this.env,e)}},{key:"getImpl",value:function(e){return this.getRefByPath(this.env,e)}}])&&i(t.prototype,n),r&&i(t,r),e}();t.KernelAPI=f,t.default=function(e,t,n){return s?s.updateEnv(e):s=function e(t,n){return new Proxy(t,{get:function(a,o){var i=n?"".concat(n,".").concat(o.toString()):o;return t.hasImpl(i)?"object"===r(t.getImpl(i))?e(a,i):"callSync"===o?t.callBridgeSync.bind(t,o,i):t.callBridgeAsync.bind(t,o,i):Reflect.get(t,i)}})}(new f(e,t,n)),s}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=n(166),f=n(62),p=n(2),d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.type,i=n.peek,c=n.port;s(this,e),this.toDipose=new f.DisposableCollection,this.onMessage=function(e){var n=e.data,r="string"===typeof n?JSON.parse(n):n;Array.isArray(r)||(r=[r]),r.forEach(t.onData)},this.onData=function(e){var n=t.peek&&t.peek(e);"pending"!==n?"cancel"!==n&&t.processData(e):t.pendingProcessData.push(e)},this.processData=function(e){var n,o=e.api,i=e.params,s=e.callbackId;if("invokeCallback"===o)return t.invokeCallback(i);if(n="self"===o?self:o.startsWith("self.")?t.getRefByPath(self,o):t.getRefByPath(t,o)){var c=i.method,u=i.args,l=t.getRefByPath(n,c);if(l){var f=a(u);if(s&&f.push((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.callRemote("invokeCallback",{callbackId:s,args:n})})),"self"===o){if("console"===c){var p=r(u,1)[0];n[c][p].apply(self,u)}}else l.apply(n,f);return}}return t.logger.warn("[".concat(t.type,"][JSBridge] Page ").concat(t.page?t.page.pagePath:"unknown"," unhandled message"),e),null},this.invokeCallback=function(e){var n=e.callbackId,r=e.args;if(n){var o;if(t.callbackPool[n])(o=t.callbackPool)[n].apply(o,a(r));delete t.callbackPool[n]}},this.runBatch=function(e){var n=t.isBatching;t.isBatching=!0;try{e()}finally{t.isBatching=n}},this.type=o,this.logger=u.default(o).getChildLogger(this.constructor.name),this.callbackPool={},this.callbackIdSeq=0,this.pendingMessages=[],this.pendingProcessData=[],this.isBatching=!1,this.peek=i,this.setParams({port:c})}var t,n,o;return t=e,(n=[{key:"setParams",value:function(e){var t=this;Object.assign(this,e),this.port&&(this.port.onmessage=this.onMessage,this.toDipose.push(f.Disposable.create((function(){t.port.onmessage=null,t.port=null}))))}},{key:"setPage",value:function(e){var t=this;this.page=e,e.endpoint=this,this.toDipose.push(f.Disposable.create((function(){e.endpoint=null,t.page=null})))}},{key:"hasPendingMessages",value:function(){return this.pendingMessages.length>0}},{key:"callRemote",value:function(e,t,n){this.isBatching||(this.port?this.postMessage(this.generateOneMessage(e,t,n)):this.addPendingMessage(e,t,n))}},{key:"callRemotePageNativeComponent",value:function(e,t){for(var n,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];"function"===typeof a[a.length-1]&&(n=a.pop()),this.callRemote("page.nativeComponentInstances.".concat(e,".wrappedComponent"),{method:t,args:a},n)}},{key:"callRemotePage",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];"function"===typeof r[r.length-1]&&(t=r.pop()),this.callRemote("page",{method:e,args:r},t)}},{key:"callRemoteSelf",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.callRemote("self",{method:e,args:n})}},{key:"callRemoteJSBridge",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.callRemote("self.JSBridge",{method:e,args:n})}},{key:"postMessage",value:function(e){try{this.port&&this.port.postMessage(l(e))}catch(t){p.default.captureException(t),this.logger.error(t)}}},{key:"generateOneMessage",value:function(e,t,n){var r=null;return n&&"function"===typeof n&&(r=this.getCallbackId(),this.callbackPool[r]=n),Object.assign({api:e,params:t},r&&{callbackId:r})}},{key:"addPendingMessage",value:function(){this.pendingMessages.push(this.generateOneMessage.apply(this,arguments))}},{key:"unshiftPendingMessage",value:function(){this.pendingMessages.unshift(this.generateOneMessage.apply(this,arguments))}},{key:"flushPendingMessages",value:function(){var e=this.pendingMessages;e.length>0&&this.postMessage(e),this.pendingMessages=[]}},{key:"getCallbackId",value:function(){return this.callbackIdSeq+=1,this.callbackIdSeq}},{key:"flushProcessData",value:function(){this.pendingProcessData.forEach(this.processData),this.pendingProcessData=[]}},{key:"getRefByPath",value:function(e,t){if("string"===typeof t&&e){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<n.length;r++){var a=n[r];if(!(a in e))return;e=e[a]}return e}}},{key:"destroy",value:function(){this.port&&(this.port.onmessage=null,this.port=null)}},{key:"dispose",value:function(){this.toDipose.dispose()}}])&&c(t.prototype,n),o&&c(t,o),e}();t.default=d},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e){return"[Throws: "+(e?e.message:"?")+"]"}function a(e){var t=[];return function e(a){if(null===a||"object"!==typeof a)return a;if(-1!==t.indexOf(a))return"[Circular]";if(t.push(a),"function"===typeof a.toJSON)try{var o=e(a.toJSON());return t.pop(),o}catch(c){return r(c)}if(Array.isArray(a)){var i=a.map(e);return t.pop(),i}var s=Object.keys(a).reduce((function(t,o){return t[o]=e(function(e,t){if(n.call(e,t))try{return e[t]}catch(c){return r(c)}return e[t]}(a,o)),t}),{});return t.pop(),s}(e)}e.exports=function(e,t,n){return JSON.stringify(a(e),t,n)},e.exports.ensureProperties=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(7),s=n(168),c=n(1),u=n(36),l=n(221),f=c.default("worker").getChildLogger("jsapi"),p=0,d={},h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiAsyncCallEmitter=new o.Emitter,this.onApiAsyncCall=this.apiAsyncCallEmitter.event,this.apiAsyncCallbackEmitter=new o.Emitter,this.onApiAsyncCallback=this.apiAsyncCallbackEmitter.event,s.default.forEach((function(e){!function(e,t){var n=new t;n.jsApiNames.forEach((function(t){e[t]?f.warn('Register JSAPI with name "'.concat(t,'" for twice')):(e[t]=function(r){var o=++p;l.default.logJSAPIRequest({apiName:t,requestId:o,params:r});var s={get extraInfo(){return d},success:function(n){r&&(r.success&&r.success(n),r.complete&&r.complete(n)),l.default.logJSAPIResponse({apiName:t,requestId:o,context:s},(function(e){s.getPage()&&s.getPage().callRender("reportAnalytics","latency",e,null)})),e.apiAsyncCallbackEmitter.fire({response:n,name:t,params:r,requestId:o,context:s})},fail:function(n){r&&(r.fail&&r.fail(n),r.complete&&r.complete(n)),l.default.logJSAPIResponse({apiName:t,requestId:o,context:s}),e.apiAsyncCallbackEmitter.fire({response:n,name:t,params:r,requestId:o,context:s})},callBridge:function(t,n,r){var a;null===(a=e.endpoint)||void 0===a||a.JSBridge.call(t,n,r)},callBridgeSync:function(t,n){var r;return null===(r=e.endpoint)||void 0===r?void 0:r.JSBridge.callSync(t,n)},getApp:function(){return i.getApp()},getPage:function(e){return e?i.getApp().getPageById(e):i.getApp().getCurrentPage()},getJSAPIMap:function(){return e.JSAPIMap||{}},attachEvent:function(t,n){var r;null===(r=e.endpoint)||void 0===r||r.attachEvent(t,n)},detachEvent:function(t,n){var r;null===(r=e.endpoint)||void 0===r||r.detachEvent(t,n)},addListener:function(e,t){u.default.addListener(e,t)},removeListener:function(e,t){u.default.removeListener(e,t)}},c="object"===a(r)?Object.assign({},r):r||{};"object"===a(c)&&(delete c.success,delete c.fail,delete c.complete);for(var f=arguments.length,h=new Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];return(null===t||void 0===t?void 0:t.endsWith("Sync"))?n.bridgeCallSync.apply(n,[t,c,s].concat(h)):(e.apiAsyncCallEmitter.fire({name:t,requestId:o,params:c,context:s}),n.bridgeCallAsync.apply(n,[t,c,s].concat(h)))},f.log('Register JSAPI with name "'.concat(t,'"')))}))}(t,e)}))}var t,n,c;return t=e,(n=[{key:"setEndpoint",value:function(e){this.endpoint=e}},{key:"setJSAPIMap",value:function(e){this.JSAPIMap=e}},{key:"setSDKVersion",value:function(e){this.SDKVersion=e}},{key:"getSDKVersion",value:function(){return this.SDKVersion}}])&&r(t.prototype,n),c&&r(t,c),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(169),a=n(170),o=n(171),i=n(172),s=n(173),c=n(176),u=n(177),l=n(178),f=n(179),p=n(180),d=n(181),h=n(182),v=n(183),y=n(184),g=n(185),b=n(186),m=n(187),k=n(188),w=n(189),j=n(193),P=n(195),_=n(197),A=n(199),C=n(200),S=n(201),O=n(202),E=n(203),I=n(204),x=n(206),T=n(207),M=n(208),R=n(211),L=n(213),D=n(214),B=n(215),N=n(216),U=n(217),F=n(218),$=n(219),q=n(220),z=[i.default,r.default,a.default,o.default,s.default,c.default,u.default,l.default,f.default,p.default,d.default,h.default,v.default,y.default,g.default,b.default,m.default,k.default,w.default,j.default,P.default,_.default,A.default,C.default,T.AnalyticsBridgePlugin,S.default,M.BasicBridgePlugin,O.default,E.default,I.default,x.default,R.CanvasBridgePlugin,L.default,D.default,B.default,N.default,U.default,F.default,$.default,q.default];t.default=z},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=0,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["request","downloadFile","uploadFile"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"request":return this.request(e,t,n);case"uploadFile":return this.uploadFile(e,t,n);default:n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}},{key:"request",value:function(e,t,n){var r=t.dataType,a=void 0===r?"json":r,o=s++,c=Object.assign(Object.assign({},t),{dataType:a,data:JSON.stringify(t.data||{}),requestId:o});n.callBridge(e,c,(function(e){var t=e.data;if("success"===e.status){var r=t;if("json"===a)try{r=JSON.parse(t)}catch(o){return n.fail({error:o.name,errorMessage:o.message}),void i.default.captureException(o)}try{n.success(r)}catch(o){i.default.captureException(o),n.fail({error:o.name,errorMessage:o.message})}}else n.fail(t)}))}},{key:"uploadFile",value:function(e,t,n){var a,o=t.formData;if(o&&o instanceof FormData){a={};var i,s=r(o.keys());try{for(s.s();!(i=s.n()).done;){var c=i.value;a[c]=o.get(c)}}catch(u){s.e(u)}finally{s.f()}}n.callBridge(e,Object.assign(Object.assign({},t),{formData:a}),(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&o(t.prototype,n),a&&o(t,a),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["setNavigationBar","getTitleColor","hideBackHome","hideNavigationBarLoading","showNavigationBarLoading","addIconsToNavigationBar"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=n(35),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["navigateTo","switchTab","navigateBack","reLaunch","navigateToMiniApp","navigateBackMiniApp"]}var t,n,i;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"navigateTo":this.navigateTo(t,n);break;case"switchTab":this.switchTab(t,n);break;case"navigateBack":this.navigateBack(t,n);break;case"reLaunch":this.reLaunch(t,n);break;case"navigateToMiniApp":this.navigateToMiniApp(t,n);break;case"navigateBackMiniApp":this.navigateBackMiniApp(t,n);break;default:throw new Error("Unknown worker api")}}},{key:"reLaunch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=arguments.length>1?arguments[1]:void 0,r=a.getApp();r.reLaunch({url:t},(function(e){n.callBridge("reLaunch",e),n.success({})}))}},{key:"navigateTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=arguments.length>1?arguments[1]:void 0,r=a.getApp();r.navigateTo({url:t},(function(e,t){n.callBridge("pushWindow",e,(function(e){var r=e.data;t&&t(r),n.success({})}))}))}},{key:"navigateBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delta,n=arguments.length>1?arguments[1]:void 0,r=a.getApp();r.navigateBack({},(function(){var e=-(t||1);n.callBridge("popTo",{index:e}),n.success({})}))}},{key:"switchTab",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=arguments.length>1?arguments[1]:void 0,r=a.getApp();r.switchTab({url:t},(function(e,t){var r=e.pagePath;n.callBridge("switchTab",{pagePath:r},(function(e){var r=e.data;"success"===e.status&&(t&&t(r),n.success({}))}))}))}},{key:"navigateBackMiniApp",value:function(e,t){var n=e.extraData,r=t.getApp(),a=r.getPreviousMiniAppId();if(a){var o={};n&&(o.appId=a,o.extraData=n);var i={appId:a,referrerInfo:o};t.callBridge("navigateBackMiniApp",i,(function(e){var n=e.data;"success"===e.status?t.success({}):t.fail(n)})),r.setPreviousMiniAppId(null)}else t.fail(new Error("Could not find previous app"))}},{key:"verifyAppMeta",value:function(e){if(e){var t=e.cdnBaseUrl||"",n=e.frameworkCdnBaseDomain||"",r=e.frameworkFilesLocation||"";if(o.isValidDomain(t)&&(""===n||o.isValidDomain(n))&&(""===r||o.isValidDomain(r)))return e}}},{key:"navigateToMiniApp",value:function(e,t){var n=e.appId,r=e.path,a=e.extraData,o=e.envVersion,i=e.appMeta,s={};r&&(s.page=r);var c={};a&&(c.extraData=a,c.appId=t.getApp().getPreviousMiniAppId());var u=this.verifyAppMeta(i);u&&n&&(u.appId=n);var l={appId:n,appMeta:u,extraData:a,path:r,params:s,referrerInfo:c};o&&-1!==["develop","trial","release","examine"].indexOf(o)&&(l.envVersion=o),t.callBridge("navigateToMiniApp",l,(function(e){var n=e.data;"success"===e.status?t.success({}):t.fail(n)}))}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["getUserInfo","getAuthCode","isLoggedIn","getUserToken","refreshUserToken"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"getUserInfo":return this.getUserInfo(t,n);default:n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}},{key:"getUserInfo",value:function(e,t){t.callBridge("getUserInfo",e||{},(function(e){var n=e.data;if("success"===e.status){var r=e.data;t.success(r)}else t.fail(n)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(174),o=n(175),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["createMapContext","createAnimation","createWebViewContext"]}var t,n,i;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"createMapContext":return new a.default(t);case"createWebViewContext":return{postMessage:function(e){n.callBridge("NativeComponent.sendMessage",{actionType:"postMessage",element:t,data:e})}};case"createAnimation":return new o.default(t,n)}}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t}var t,n,o;return t=e,(n=[{key:"moveToLocation",value:function(){a.getApp().getCurrentPage().callRenderNativeComponent(this.id,"moveToLocation")}},{key:"getCenterLocation",value:function(e){a.getApp().getCurrentPage().callRenderNativeComponent(this.id,"getCenterLocation",(function(t){if(t)e.success&&e.success(t),e.complete&&e.complete(t);else{var n={error:"Error",errorMessage:"Cound not get current location"};e.fail&&e.fail(n),e.complete&&e.complete(n)}}))}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=["opacity","backgroundColor","width","height","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY","scale","scaleX","scaleY","scaleZ","scale3d","translate","translateX","translateY","translateZ","translate3d"],i=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;r(this,e);var i=n.duration,s=void 0===i?400:i,c=n.timeFunction,u=void 0===c?"linear":c,l=n.transformOrigin,f=void 0===l?"50% 50% 0":l;this.config={duration:s,timeFunction:u,transformOrigin:f},this.animations=[],this.currentAnimation=[],o.forEach((function(e){t[e]=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.currentAnimation.push([e,r]),t}})),a.success({config:this.config})}var t,n,i;return t=e,(n=[{key:"step",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animations.push({config:Object.assign(Object.assign({},this.config),e),animation:this.currentAnimation}),this.currentAnimation=[],this}},{key:"export",value:function(){var e=this.animations;return this.animations=[],e}}])&&a(t.prototype,n),i&&a(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["getSystemInfo","getSystemInfoSync"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"getSystemInfo":this.getSystemInfo(e,t,n)}}},{key:"bridgeCallSync",value:function(e,t,n){switch(e){case"getSystemInfoSync":return this.getSystemInfo(e,t,n,!0)}}},{key:"getSystemInfo",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r){var a=n.callBridgeSync(e,t);return a}n.callBridge("getSystemInfo",t,(function(e){var t=e.status,r=e.data;"success"===t?n.success(r):n.fail(r)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["alert","confirm"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["showToast","hideToast"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["showLoading","hideLoading"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["showActionSheet"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["prompt"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["onAppShow","onAppHide","offAppShow","offAppHide","onError","offError","onUnhandledRejection","offUnhandledRejection"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"onAppShow":n.addListener("appDidLaunch",t),n.addListener("foreground",t);break;case"offAppShow":n.removeListener("appDidLaunch",t),n.removeListener("foreground",t);break;case"onAppHide":n.addListener("background",t);break;case"offAppHide":n.removeListener("background",t);break;case"onError":n.addListener("appError",t);break;case"offError":n.removeListener("appError",t);break;case"onUnhandledRejection":n.addListener("appUnhandledRejection",t);break;case"offUnhandledRejection":n.removeListener("appUnhandledRejection",t)}}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["startPullDownRefresh","stopPullDownRefresh","setCanPullDown"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["getStorage","setStorage","removeStorage","clearStorage","getStorageInfo"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["showTabBar","hideTabBar","setTabBarBadge","removeTabBarBadge","showTabBarRedDot","hideTabBarRedDot","setTabBarStyle","setTabBarItem"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["hideKeyboard"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["makePayment"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["chooseImage","saveImage","compressImage","getImageInfo","chooseVideo"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(190),o=n(191),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["createAudioContext"]}var t,n,i;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"createAudioContext":return new a.AudioContext(t,n);case"createInnerAudioContext":return new o.ForegroundAudioContext(t,n)}}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AudioContext=void 0;var a=new WeakMap,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,a.set(this,n.getPage()),n.success({id:t})}var t,n,o;return t=e,(n=[{key:"play",value:function(){a.get(this).callRenderNativeComponent(this.id,"play")}},{key:"pause",value:function(){a.get(this).callRenderNativeComponent(this.id,"pause")}},{key:"seek",value:function(e){a.get(this).callRenderNativeComponent(this.id,"seek",e)}},{key:"setSrc",value:function(e){a.get(this).callRenderNativeComponent(this.id,"setSrc",e)}},{key:"setVolume",value:function(e){a.get(this).callRenderNativeComponent(this.id,"setVolume",e)}}])&&r(t.prototype,n),o&&r(t,o),e}();t.AudioContext=o},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ForegroundAudioContext=void 0;var l=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,c=s(u);function u(){var e;return a(this,u),(e=c.apply(this,arguments)).type="ForegroundAudio",e}return t=u,(n=[{key:"src",get:function(){return this.getter("src")},set:function(e){"string"===typeof e&&e.length&&this.setter("src",e)}},{key:"startTime",get:function(){return this.getter("startTime")},set:function(e){"number"===typeof e&&this.setter("startTime",e)}},{key:"autoplay",get:function(){return this.getter("autoplay")},set:function(e){"boolean"===typeof e&&this.setter("autoplay",e)}},{key:"loop",get:function(){return this.getter("loop")},set:function(e){"boolean"===typeof e&&this.setter("loop",e)}},{key:"isRecordAudioPlayState",get:function(){return this.getter("isRecordAudioPlayState")},set:function(e){"boolean"===typeof e&&this.setter("isRecordAudioPlayState",e)}},{key:"duration",get:function(){return this.getter("duration")}},{key:"currentTime",get:function(){return this.getter("currentTime",!1)}},{key:"paused",get:function(){return this.getter("paused")}}])&&o(t.prototype,n),r&&o(t,r),u}(n(192).InnerAudioContext);t.ForegroundAudioContext=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.InnerAudioContext=void 0;var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={},this.listenerCount=0,n.extraInfo.innerAudioContextId?n.extraInfo.innerAudioContextId++:n.extraInfo.innerAudioContextId=1,this.id=n.extraInfo.innerAudioContextId,this.params=Object.assign(Object.assign({},t),{audioPlayerId:this.id}),this.play=this.play.bind(this,n),this.pause=this.pause.bind(this,n),this.stop=this.stop.bind(this,n),this.seek=this.seek.bind(this,n),this.destroy=this.destroy.bind(this,n),this.setter=this._setter.bind(this,n),this.getter=this._getter.bind(this,n),this.listen=this._listen.bind(this,n),this.unlisten=this._unlisten.bind(this,n)}var t,n,o;return t=e,(n=[{key:"_getter",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.state[t]&&n)return this.state[t];var r=e.callBridgeSync("get".concat(this.type,"Option"),Object.assign(Object.assign({},this.params),{optionName:t}));return r[t]}},{key:"_setter",value:function(e,t,n){this.state[t]=n,e.callBridge("set".concat(this.type,"Option"),Object.assign(Object.assign({},this.params),{option:r({},t,n)}))}},{key:"_listen",value:function(e,t,n){this.listenerCount++,1===this.listenerCount&&e.callBridge("startMonitor".concat(this.type),this.params),e.attachEvent("on".concat(this.type).concat(t),n)}},{key:"_unlisten",value:function(e,t,n){this.listenerCount--,0===this.listenerCount&&e.callBridge("stopMonitor".concat(this.type),this.params),e.detachEvent("on".concat(this.type).concat(t),n)}},{key:"play",value:function(e){e.callBridge("play".concat(this.type),Object.assign({},this.params))}},{key:"pause",value:function(e){e.callBridge("pause".concat(this.type),Object.assign({},this.params))}},{key:"stop",value:function(e){e.callBridge("stop".concat(this.type),Object.assign({},this.params))}},{key:"seek",value:function(e,t){e.callBridge("seek".concat(this.type),Object.assign(Object.assign({},this.params),{position:t}))}},{key:"destroy",value:function(e){e.callBridge("destroy".concat(this.type),Object.assign({},this.params))}},{key:"onCanPlay",value:function(e){this.listen("CanPlay",e)}},{key:"offCanPlay",value:function(e){this.unlisten("CanPlay",e)}},{key:"onPlay",value:function(e){this.listen("Play",e)}},{key:"offPlay",value:function(e){this.unlisten("Play",e)}},{key:"onEnded",value:function(e){this.listen("Ended",e)}},{key:"offEnded",value:function(e){this.unlisten("Ended",e)}},{key:"onPause",value:function(e){this.listen("Pause",e)}},{key:"offPause",value:function(e){this.unlisten("Pause",e)}},{key:"onStop",value:function(e){this.listen("Stop",e)}},{key:"offStop",value:function(e){this.unlisten("Stop",e)}},{key:"onTimeUpdate",value:function(e){this.listen("TimeUpdate",e)}},{key:"offTimeUpdate",value:function(e){this.unlisten("TimeUpdate",e)}},{key:"onWaiting",value:function(e){this.listen("Waiting",e)}},{key:"offWaiting",value:function(e){this.unlisten("Waiting",e)}}])&&a(t.prototype,n),o&&a(t,o),e}();t.InnerAudioContext=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(194),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["createSelectorQuery"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e){var t=arguments.length>2?arguments[2]:void 0;switch(e){case"createSelectorQuery":return new a.SelectorQuery(t)}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorQuery=void 0;var a=new WeakMap,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=[],a.set(this,t.getPage()),t.success({})}var t,n,o;return t=e,(n=[{key:"select",value:function(e){return this.selector={value:e},this}},{key:"selectAll",value:function(e){return this.selector={value:e,type:"all"},this}},{key:"selectViewport",value:function(){return this.selector={value:"viewport"},this}},{key:"boundingClientRect",value:function(){return this.selector&&(this.actions.push({selector:this.selector,type:"rect"}),this.selector=void 0),this}},{key:"scrollOffset",value:function(){return this.selector&&(this.actions.push({selector:this.selector,type:"scroll"}),this.selector=void 0),this}},{key:"exec",value:function(e){a.get(this).callRender("createSelectorQuery",this.actions,e)}}])&&r(t.prototype,n),o&&r(t,o),e}();t.SelectorQuery=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(196),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["openDeeplink","openScreen"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"openDeeplink":var r=t.url;return this.openLink({url:r,context:n,params:t});case"openScreen":var o=t.screenCode,i=t.params,s=a.getDeeplink({screenCode:o,params:i});return this.openLink({url:s,context:n,params:Object.assign(Object.assign({},t),{openScreen:!0})})}}},{key:"openLink",value:function(e){var t=e.url,n=e.context,r=e.params;t&&(t.startsWith("tikivn://")||t.startsWith("tikiminiapp://"))?n.callBridge("openDeeplink",Object.assign(Object.assign({},r),{url:t}),(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)})):n.fail({error:"Invalid URL",errorMessage:"URL is not supported"})}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeeplink=t.ScreenMapping=void 0;var r={TK_HOME:"tikivn://home",TK_PRODUCT_DETAIL:"tikivn://products/",TK_SOCIAL_FEED:"tikivn://social_feeds",TK_LISTING:"tikivn://categories",TK_PROFILE:"tikivn://apps/vn.tiki.feed/pages/profile/index",TK_SELLER_STORE:"tikivn://cua-hang/",TK_CART:"tikivn://cart"};t.ScreenMapping=r;t.getDeeplink=function(e){var t=e.screenCode,n=e.params;switch(t){case"TK_PRODUCT_DETAIL":var a=n.productId;if(a)return"".concat(r.TK_PRODUCT_DETAIL).concat(a);break;case"TK_SELLER_STORE":var o=n.slug;if(o)return"".concat(r.TK_SELLER_STORE).concat(o);break;default:if(n){var i=Object.entries(n).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&");return"".concat(r[t],"?").concat(i)}return r[t]}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(198),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["createVideoContext"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"createVideoContext":return new a.VideoContext(t,n)}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoContext=void 0;var a=new WeakMap,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,a.set(this,n.getPage()),n.success({id:t})}var t,n,o;return t=e,(n=[{key:"mute",value:function(){a.get(this).callRenderNativeComponent(this.id,"mute")}},{key:"seek",value:function(e){a.get(this).callRenderNativeComponent(this.id,"seek",e)}},{key:"pause",value:function(){a.get(this).callRenderNativeComponent(this.id,"pause")}},{key:"play",value:function(){a.get(this).callRenderNativeComponent(this.id,"play")}}])&&r(t.prototype,n),o&&r(t,o),e}();t.VideoContext=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=new Map,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["connectSocket","sendSocketMessage","closeSocket","onSocketOpen","onSocketTaskOpen","offSocketOpen","offSocketTaskOpen","onSocketMessage","onSocketTaskMessage","offSocketMessage","offSocketTaskMessage","onSocketError","onSocketTaskError","offSocketError","offSocketTaskError","onSocketClose","onSocketTaskClose","offSocketClose","offSocketTaskClose"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){var r,o,i,s,c,u,l,f,p;switch(e){case"onSocketOpen":a.set(t,null===(r=n.getPage())||void 0===r?void 0:r.onSocketOpen(t));break;case"onSocketTaskOpen":a.set(t,null===(o=n.getPage())||void 0===o?void 0:o.onSocketTaskOpen(t));break;case"onSocketError":a.set(t,null===(i=n.getPage())||void 0===i?void 0:i.onSocketError(t));break;case"onSocketTaskError":a.set(t,null===(s=n.getPage())||void 0===s?void 0:s.onSocketTaskError(t));break;case"onSocketClose":a.set(t,null===(c=n.getPage())||void 0===c?void 0:c.onSocketClose(t));break;case"onSocketTaskClose":a.set(t,null===(u=n.getPage())||void 0===u?void 0:u.onSocketTaskClose(t));break;case"onSocketMessage":a.set(t,null===(l=n.getPage())||void 0===l?void 0:l.onSocketMessage(t));break;case"onSocketTaskMessage":a.set(t,null===(f=n.getPage())||void 0===f?void 0:f.onSocketTaskMessage(t));break;case"offSocketOpen":case"offSocketTaskOpen":case"offSocketError":case"offSocketTaskError":case"offSocketClose":case"offSocketTaskClose":case"offSocketMessage":case"offSocketTaskMessage":null===(p=a.get(t))||void 0===p||p.dispose(),a.delete(t);break;default:n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["getLocation"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["sendInternalEvent"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["askDownloadNewClient","openNativeAppStore"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(205),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["createLottieContext"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"createLottieContext":return new a.LottieContext(t,n)}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.LottieContext=void 0;var a=new WeakMap,o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,a.set(this,n.getPage()),n.success({id:t})}var t,n,o;return t=e,(n=[{key:"play",value:function(){a.get(this).callRenderNativeComponent(this.id,"play")}},{key:"pause",value:function(){a.get(this).callRenderNativeComponent(this.id,"pause")}},{key:"stop",value:function(){a.get(this).callRenderNativeComponent(this.id,"stop")}},{key:"setSpeed",value:function(e){a.get(this).callRenderNativeComponent(this.id,"setSpeed",e)}},{key:"goToAndStop",value:function(e){a.get(this).callRenderNativeComponent(this.id,"goToAndStop",e)}},{key:"goToAndPlay",value:function(e){a.get(this).callRenderNativeComponent(this.id,"goToAndPlay",e)}},{key:"setDirection",value:function(e){a.get(this).callRenderNativeComponent(this.id,"setDirection",e)}}])&&r(t.prototype,n),o&&r(t,o),e}();t.LottieContext=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["showSharePanel","shareApp"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){"shareApp"===e?n.callBridge(e,t):"showSharePanel"===e&&n.getPage().onShareAppMessage()}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsBridgePlugin=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["reportAnalytics"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){for(var r,a=arguments.length,o=new Array(a>3?a-3:0),i=3;i<a;i++)o[i-3]=arguments[i];o.push((function(){return n.success({})})),(r=n.getPage()).callRender.apply(r,["reportAnalytics",t].concat(o))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.AnalyticsBridgePlugin=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.BasicBridgePlugin=void 0;var a=n(209),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["canIUse","getRunScene"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"canIUse":return this.canIUse(t,n);default:n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}},{key:"canIUse",value:function(e,t){var n=String(e).split(".");if(n.length>0){for(var r=Object.assign(Object.assign({},a.default),t.getJSAPIMap()),o=0;o<n.length;o++){var i=n[o];if(!r[i])return!1;r=r[i]}return!0}return!1}}])&&r(t.prototype,n),o&&r(t,o),e}();t.BasicBridgePlugin=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(210),a=self.__JSAPI_MAP__,o=Object.assign(Object.assign({},a),r.default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={audio:{author:"string",className:"string",controls:"any",id:"string",loop:"any",name:"string",onEnded:"function",onError:"function",onPause:"function",onPlay:"function",onTimeUpdate:"function",poster:"string",src:"string",style:"object"},button:{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",formType:"any",id:"string",key:"any",loading:"any",nativeId:"string",onTap:"function",size:"any",style:"object",testId:"string",type:"any"},carousel:{_componentPath:"string",_currentPath:"string",$tini:"interface",activeClass:"string",autoplay:"any",children:"node",circular:"any",class:"string",className:"string",current:"number",disabled:"any",disableTouch:"any",duration:"number",id:"string",indicatorActiveColor:"string",indicatorColor:"string",indicatorDots:"any",interval:"number",key:"any",nativeId:"string",nextMargin:"string",onAnimationEnd:"function",onChange:"function",previousMargin:"string",style:"object",vertical:"any"},"carousel-item":{children:"node",index:"number",key:"string"},checkbox:{_componentPath:"string",_currentPath:"string",$tini:"interface",checked:"any",class:"string",className:"string",color:"string",disabled:"any",icon:"any",id:"string",key:"any",name:"string",nativeId:"string",onChange:"function",style:"object",testId:"string",value:"string"},"checkbox-group":{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",id:"string",key:"any",name:"string",nativeId:"string",onChange:"function",style:"object",testId:"string"},image:{_componentPath:"string",_currentPath:"string",$tini:"interface",class:"string",className:"string",defaultSource:"string",disabled:"any",id:"string",lazyLoad:"any",nativeId:"string",onError:"function",onLoad:"function",src:"string",style:"object",testId:"string"},input:{_componentPath:"string",_currentPath:"string",$tini:"interface",class:"string",className:"string",confirmType:"any",controlled:"any",cursor:"number",disabled:"any",focus:"any",id:"string",key:"any",maxlength:"number",name:"string",nativeId:"string",onBlur:"function",onConfirm:"function",onFocus:"function",onInput:"function",password:"any",placeholder:"string",placeholderClass:"string",placeholderStyle:"string",selectionEnd:"number",selectionStart:"number",style:"object",testId:"string",type:"any",value:"string"},icon:{_componentPath:"string",_currentPath:"string",$tini:"interface",class:"string",className:"string",color:"string",disabled:"any",id:"string",key:"any",nativeId:"string",size:"number",style:"object",testId:"string",type:"string"},label:{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",for:"string",id:"string",key:"any",nativeId:"string",style:"object",testId:"string"},"picker-view":{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",id:"string",indicatorClass:"string",indicatorStyle:"string",key:"any",maskClass:"string",maskStyle:"string",nativeId:"string",onChange:"function",style:"object",value:"array"},picker:{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",confirmButtonClass:"string",confirmButtonText:"string",disabled:"any",id:"string",name:"string",nativeId:"string",onChange:"function",range:"array",rangeKey:"string",style:"object",title:"string",value:"number"},"picker-view-column":{children:"node",className:"string",index:"number",key:"any",label:"string",loop:"any",perspective:"any",style:"object"},"movable-view":{_componentPath:"string",_currentPath:"string",$tini:"interface",animation:"any",class:"string",className:"string",damping:"number",direction:"string",disabled:"any",friction:"number",id:"string",inertia:"any",nativeId:"string",onChange:"function",onChangeEnd:"function",onScale:"function",outOfBounds:"any",scale:"any",scaleMax:"number",scaleMin:"number",scaleValue:"number",style:"object",x:"number",y:"number"},radio:{_componentPath:"string",_currentPath:"string",$tini:"interface",checked:"any",class:"string",className:"string",color:"string",disabled:"any",id:"string",key:"any",nativeId:"string",style:"object",testId:"string",value:"string"},progress:{_componentPath:"string",_currentPath:"string",$tini:"interface",active:"any",activeColor:"string",backgroundColor:"string",class:"string",className:"string",disabled:"any",id:"string",key:"any",nativeId:"string",percent:"number",showInfo:"any",strokeWidth:"number",style:"object"},text:{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",id:"string",key:"any",nativeId:"string",numberOfLines:"number",selectable:"any",style:"object",testId:"string"},"scroll-view":{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",enableBackToTop:"any",id:"string",lowerThreshold:"number",nativeId:"string",onScroll:"function",onScrollToLower:"function",onScrollToUpper:"function",onTouchEnd:"function",onTouchMove:"function",onTouchStart:"function",scrollAnimationDuration:"number",scrollIntoView:"string",scrollLeft:"number",scrollTop:"number",scrollWithAnimation:"any",scrollX:"any",scrollY:"any",style:"object",testId:"string",trapScroll:"any",upperThreshold:"number"},textarea:{_componentPath:"string",_currentPath:"string",$tini:"interface",autoHeight:"any",class:"string",className:"string",controlled:"any",disabled:"any",focus:"any",id:"string",key:"any",maxlength:"number",name:"string",nativeId:"string",onBlur:"function",onConfirm:"function",onFocus:"function",onInput:"function",placeholder:"string",placeholderClass:"string",placeholderStyle:"string",showCount:"any",style:"object",testId:"string",value:"string"},switch:{_componentPath:"string",_currentPath:"string",$tini:"interface",checked:"any",class:"string",className:"string",color:"string",controlled:"any",disabled:"any",id:"string",key:"any",name:"string",nativeId:"string",onChange:"function",style:"object",testId:"string"},video:{_componentPath:"string",_currentPath:"string",$tini:"interface",autoplay:"any",class:"string",className:"string",controls:"any",disabled:"any",duration:"number",enableProgressGesture:"any",hls:"any",id:"string",initialTime:"number",loop:"any",mobilenetHintType:"number",muted:"any",nativeId:"string",objectFit:"any",onEnded:"function",onError:"function",onPause:"function",onPlay:"function",onTimeUpdate:"function",pageGesture:"any",playsInline:"any",poster:"string",posterSize:"string",showCenterPlayBtn:"any",showFullscreenBtn:"any",showMuteBtn:"any",showPlayBtn:"any",showThinProgressBar:"any",src:"string",style:"object"},view:{_componentPath:"string",_currentPath:"string",$tini:"interface",animation:"array",class:"string",className:"string",disabled:"any",hidden:"any",id:"string",nativeId:"string",style:"object",tagName:"string"},"web-view":{onMessage:"function",src:"string"},"radio-group":{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",id:"string",key:"any",name:"string",nativeId:"string",onChange:"function",style:"object",testId:"string"},form:{_componentPath:"string",_currentPath:"string",$tini:"interface",children:"node",class:"string",className:"string",disabled:"any",id:"string",key:"any",name:"string",nativeId:"string",onReset:"function",onSubmit:"function",style:"object",testId:"string"}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasBridgePlugin=void 0;var a=n(212),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["createCanvasContext"]}var t,n,o;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"createCanvasContext":return this.createCanvasContext(t,n)}}},{key:"createCanvasContext",value:function(e,t){return new a.CanvasContext(e,t)}}])&&r(t.prototype,n),o&&r(t,o),e}();t.CanvasBridgePlugin=o},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasContext=void 0;var c=["fillStyle","strokeStyle","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","textBaseline","lineDashOffset","textAlign","globalCompositeOperation"],u=["clip","fill","rect","fillRect","strokeRect","stroke","scale","rotate","translate","save","restore","clearRect","fillText","moveTo","lineTo","arcTo","arc","transform","setTransform","stroke","beginPath","closePath","quadraticCurveTo","bezierCurveTo","setLineDash","strokeText"],l=["createLinearGradient","createRadialGradient","createCircularGradient"],f=["shadow","fontSize","font"],p={getImageData:{validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;return t?n?null:{message:"the source height is 0"}:{message:"the source width is 0"}},normalizeParams:function(e){e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||0,e.height=Number(e.height)||0},normalizeResponse:function(e){e.data=new Uint8ClampedArray(e.data)}},putImageData:{validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.data;return"number"!==typeof t?{message:"width argument must be an Number"}:"[object Uint8ClampedArray]"!==Object.prototype.toString.call(n)?{message:"data argument must be an Uint8ClampedArray"}:null},normalizeParams:function(e){e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||0,e.height=i(e.height)?e.height:e.data.length/e.width/4|0,e.data=Array.from(e.data)}}},d=function(e){return"set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},h=new WeakMap,v=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.actions=[],this.enableCompactProtocol=!1,this.callId=0,this.state={font:"10px Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"Arial"},h.set(this,n),[].concat(c,f).forEach((function(e){Object.defineProperty(r,e,{configurable:!0,set:function(t){r[d(e)](t)}})})),Object.keys(p).forEach((function(e){var t=p[e]||{};r[e]=function(n){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=e.success,a=void 0===r?function(){}:r,o=e.fail,i=void 0===o?function(){}:o,c=e.complete,u=void 0===c?function(){}:c,l=s(e,["success","fail","complete"]);return Object.assign({success:function(e){a(e),t&&t(e),u(e)},fail:function(e){i(e),n&&n(e),u(e)}},l)}(n),o=a.success,i=a.fail,c=s(a,["success","fail"]);if(t&&t.validate){var u=t.validate(c);if(u)return i({errorMessage:u.message,error:u.message})}return t&&t.normalizeParams&&t.normalizeParams(c),new Promise((function(n,a){var s,u,l=[r.id,e];l.push(c,(function(e){e&&!e.error?(t.normalizeResponse&&t.normalizeResponse(e),n(e),o&&o(e)):(a(e),i&&i(e))})),null===(u=h.get(r).getPage())||void 0===u||(s=u).callRenderNativeComponent.apply(s,l)}))}})),c.forEach((function(e){r[d(e)]=function(t){r.actions.push({property:e,value:t})}})),l.forEach((function(e){r[e]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=e;"createCircularGradient"===e&&(o="createRadialGradient",n=[n[0],n[1],0,n[0],n[1],n[2]]);var i=[];return r.actions.push({action:o,nested:i,callId:++r.callId,args:n}),{$callId:r.callId,addColorStop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.push({action:"addColorStop",args:t})}}}})),u.forEach((function(e){r[e]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];r.actions.push({action:e,args:n})}}))}var t,n,a;return t=e,(n=[{key:"draw",value:function(e,t){this.actionsShouldLoadImage=!1,this._commitDrawFrame(e,this.actions,t),this.actions=[]}},{key:"drawImage",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];"string"===typeof e?(n=[e].concat(r(n)),this.actions.push({action:"drawImage",args:n})):e&&"object"===i(e)&&(e.isCanvasContext&&this.actions.push({action:"drawCanvas",args:[e.id].concat(n)}),n=[e.url].concat(r(n)),this.actions.push({action:"drawImage",args:n}))}},{key:"toDataURL",value:function(e){var t=this;return new Promise((function(n,r){var a,o=e.success,i=e.fail,c=e.complete,u=s(e,["success","fail","complete"]);null===(a=h.get(t).getPage())||void 0===a||a.callRenderNativeComponent(t.id,"toDataURL",Object.assign({},u),(function(e){e&&!e.error?(n(e),o&&o(e)):(r(e),i&&i(e)),c&&c(e)}))}))}},{key:"toTempFilePath",value:function(e){var t=this,n=e.success,r=e.fail,a=e.complete,o=s(e,["success","fail","complete"]);return new Promise((function(e,i){var s;null===(s=h.get(t).getPage())||void 0===s||s.callRenderNativeComponent(t.id,"toTempFilePath",Object.assign({},o),(function(t){t&&!t.error?(e(t),n&&n(t)):(i(t),r&&r(t)),a&&a(t)}))}))}},{key:"setShadow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black";this.actions=this.actions.concat([{property:"shadowOffsetX",value:e},{property:"shadowOffsetY",value:t},{property:"shadowBlur",value:n},{property:"shadowColor",value:r}])}},{key:"setFontSize",value:function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,"".concat(e,"px")),this.state.fontSize=e,this.actions.push({property:"font",value:this.state.font})}},{key:"setFont",value:function(e){var t=this;this.state.font=e;var n=e.match(/^(([\w\-]+\s)*)(\d+px)(\/(\d+\.?\d*(px)?))?\s+(.*)/);if(n){var r=n[1].trim().split(/\s/);this.state.fontSize=parseFloat(r[3]),this.state.fontFamily=r[7],r.forEach((function(e){["italic","oblique","normal"].indexOf(e)>-1?t.state.fontStyle=e:["bold","normal"].indexOf(e)>-1&&(t.state.fontWeight=e)})),this.actions.push({property:"font",value:e})}}},{key:"createPattern",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0]&&"object"===i(t[0])&&(t=[t[0].url,t[1]]),this.actions.push({action:"createPattern",callId:++this.callId,args:t}),{$callId:this.callId}}},{key:"_commitDrawFrame",value:function(e,t,n){var r;if(t.length){var a,o=[this.id,"draw",t,e];n&&o.push(n),null===(r=h.get(this).getPage())||void 0===r||(a=r).callRenderNativeComponent.apply(a,o)}else n&&setTimeout(n,0)}}])&&o(t.prototype,n),a&&o(t,a),e}();t.CanvasContext=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return null!==e&&void 0!==e&&"".concat(e).trim().length>0},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return a(e)&&"".concat(e).length>=t&&"".concat(e).length<=n},i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["getAddress","saveAddress"]}var t,n,i;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"getAddress":return this.getAddress(n);case"saveAddress":return this.saveAddress(t||{},n)}}},{key:"mapping",value:function(e){return{id:e.id,full_name:e.full_name,country:e.country,country_id:e.country_id,city:e.region,city_id:e.region_id,district:e.city,district_id:e.city_id,ward:e.ward,ward_id:e.ward_id,street:e.street,company:e.company,delivery_address_type:e.delivery_address_type,phone_number:e.telephone,is_default:e.is_default}}},{key:"getAddress",value:function(e){var t=this;e.callBridge("getAddress",{},(function(n){var r=n.data;"success"===n.status?e.success(t.mapping(r)):e.fail(r)}))}},{key:"saveAddress",value:function(e,t){var n,r=this,i=(e||{}).data,s=void 0===i?{}:i;if(!1===[o(s.full_name),(n=s.phone_number,a(n)&&/^(\+?)[0-9]+$/.test("".concat(n))),a(s.street),a(s.city_id),a(s.district_id),a(s.ward_id)].includes(!1)){var c={id:s.id,full_name:"".concat(s.full_name).trim(),company:a(s.company)?"".concat(s.company).trim():"",telephone:"".concat(s.phone_number).trim(),street:"".concat(s.street).trim(),is_default:"boolean"===typeof s.is_default&&s.is_default,delivery_address_type:["company","home"].includes(s.delivery_address_type)?s.delivery_address_type:"home",region_id:s.city_id,city_id:s.district_id,ward_id:s.ward_id};t.callBridge("saveAddress",c,(function(e){var n=e.data;"success"===e.status?t.success(r.mapping(n)):t.fail(n)}))}else t.fail({error:"Error",errorMessage:"D\u1eef li\u1ec7u kh\xf4ng h\u1ee3p l\u1ec7"})}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["choosePhoneContact"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"choosePhoneContact":return this.choosePhoneContact(n)}}},{key:"choosePhoneContact",value:function(e){e.callBridge("choosePhoneContact",{},(function(t){var n=t.data;"success"===t.status?e.success(n):e.fail(n)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["makePhoneCall"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){var r=t.number,a="tel:".concat(void 0===r?"":r);n.callBridge("openPublicDeepLink",Object.assign(Object.assign({},t),{url:a}),(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["addToCart"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["scan"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["setClipboard","getClipboard"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["previewImage"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){switch(e){case"previewImage":return this.previewImage(t||{},n)}}},{key:"previewImage",value:function(e,t){!e||Array.isArray(e.urls)&&0!==e.urls.length?t.callBridge("previewImage",e,(function(e){var n=e.data;"success"===e.status?t.success(n):t.fail(n)})):t.fail({error:"Error",errorMessage:"Invalid parameter"})}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiNames=["setBackgroundColor","setBackgroundTextStyle"]}var t,n,a;return t=e,(n=[{key:"bridgeCallAsync",value:function(e,t,n){n.callBridge(e,t,(function(e){var t=e.data;"success"===e.status?n.success(t):n.fail(t)}))}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsapiRequests={},this.batchRequests=[]}var t,n,a;return t=e,(n=[{key:"logJSAPIRequest",value:function(e){var t=e.requestId,n=e.apiName,r=e.params;this.jsapiRequests[t]={apiName:n,params:r,createdAt:(new Date).getTime()}}},{key:"logJSAPIResponse",value:function(e,t){var n=e.requestId,r=e.apiName;if(this.jsapiRequests[n]){var a=this.jsapiRequests[n],o={framework:{domain:"jsapi",step:r,params:a.params&&JSON.stringify(a.params),createdAt:a.createdAt,duration:(new Date).getTime()-a.createdAt}};t&&t(o)}}},{key:"logRenderEvent",value:function(e){var t=e.step,n=e.domain,r=e.duration,a=e.params,o=e.createdAt;console.log("[Tracking] Track ".concat(t," from ").concat(n),o,r);var i={event:"latency",framework:{domain:n,step:t,params:a&&JSON.stringify(a),createdAt:o,duration:r}};this.batchRequests.push(i)}},{key:"sendLog",value:function(e){e&&e(this.batchRequests)}}])&&r(t.prototype,n),a&&r(t,a),e}();t.default=new a},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getAppContext=t.bootstrapApp=void 0;var o=n(7),i=n(148),s=n(149),c=n(150),u=n(164),l=n(165),f=n(167),p=n(1),d=n(2),h=n(223),v=n(35);p.configureDefaultLogger({console:console});var y=p.default("worker"),g=new f.default;g.setSDKVersion("1.81.21");var b=[],m=!1,k=!0,w=!1,j=void 0,P={postMessage:function(e){self.clients?self.clients.matchAll({includeUncontrolled:!0,type:"window"}).then((function(t){if(t){var n=t.filter((function(e){return"visible"===e.visibilityState}));n.length&&n[0].postMessage(e)}})):self.postMessage(e)}},_=self.__TINI_DEVTOOLS_GLOBAL_HOOK__||{},A=function(e){try{k&&(y.log("start first page - start time: ".concat(Date.now())),k=!1);var t=e.data,n=r(e.ports,1)[0],a=t.pageId,i=t.pagePath,s=t.queryString,c=t.__ENV__,f=t.__JSAPI_MAP__;if(j||(j=u.default(c,P,"worker"),new h.RuntimeMessageHandler(j),g.setEndpoint(j),g.setJSAPIMap(f)),n){var p=new l.default({type:"worker",port:n,peek:void 0}),b=o.getApp();i&&b&&function(e,t,n,r,a){var i=o.getApp(),s=v.parseQuery(n);_.onAppLifecycle&&i.onAppLifecycle(_.onAppLifecycle);var c=i.newPage({pageId:e,pagePath:t,queryString:s.query});_.onPageLifecycle&&(c.onPageLifecycle(_.onPageLifecycle),c.onSetData(_.onSetData),c.onSetDataCallback(_.onSetDataCallback));var u=r.port;c.endpoint?c.endpoint.setParams({port:u}):c.setEndpoint(r),m||(m=!0,i.setSDKVersion("1.81.21"),i.launch({pagePath:t,query:s.query,referrerInfo:s.referrerInfo})),a&&a(c)}(a,i,s,p,(function(e){if(e.$loadTime)return y.log('Refresh page "'.concat(i,'" with qs:').concat(s)),void e.refresh();y.log('Load page "'.concat(i,'" with qs:').concat(s)),e.load()}))}}catch(w){d.default.captureException(w),o.getApp().onUnhandledRejection(w)}};self.addEventListener("message",(function(e){e.ports&&e.ports.length>0&&(w?A(e):b.push(e)),P.onmessage&&P.onmessage(e)}));t.bootstrapApp=function(e){var t=e.success;try{t(),w=!0,b.forEach(A),b=[]}catch(n){y.error(n.message)}};t.getAppContext=function(){return{TFApp:{SDKVersion:"1.81.21",App:s.default,Page:i.default,Component:c.default,getApp:o.getPublicApp,getCurrentPages:o.getCurrentPages,$global:{},bridge:g}}}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeMessageHandler=void 0;var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runtime=t,this.portIdToMessagePort={},t.delegate&&t.delegate.setRuntimeMessageListener(this.handleMessage.bind(this))}var t,n,a;return t=e,(n=[{key:"handleMessage",value:function(e){this.isInitPortMessage(e)?this.handleInitPortMessageFromRender(e):this.isMessageForMessagePort(e)&&this.handleMessageFromRenderForMessagePort(e)}},{key:"isInitPortMessage",value:function(e){return e&&Array.isArray(e.eventPorts)&&e.eventPorts.length>0}},{key:"isMessageForMessagePort",value:function(e){return e&&!!e.msgPortId}},{key:"isMessageForPageLifecycle",value:function(e){return e&&"pageLifeCycle"===e.type}},{key:"handleInitPortMessageFromRender",value:function(e){var t=this,n=e.eventPorts,a=e.data,o=void 0===a?{}:a,i=e.pageId;i||(i=o.pageId);var s=r(n,1)[0].id,c=new MessageChannel,u=c.port1,l=c.port2;this.portIdToMessagePort[i]=this.portIdToMessagePort[i]||{},this.portIdToMessagePort[i][s]=u,u.onmessage=function(e){var n;null===(n=t.runtime.delegate)||void 0===n||n.postMessageToRuntime({data:e.data,msgPortId:s,pageId:i,type:"messagePort"})},self.dispatchEvent(new MessageEvent("message",{pageId:i,data:o,ports:[l]}))}},{key:"handleMessageFromRenderForMessagePort",value:function(e){var t=e.pageId,n=e.msgPortId,r=e.data;n&&this.portIdToMessagePort[t]&&this.portIdToMessagePort[t][n]&&this.portIdToMessagePort[t][n].postMessage(r)}}])&&o(t.prototype,n),a&&o(t,a),e}();t.RuntimeMessageHandler=i}]);__frameworkEndTime=Date&&Date.now&&Date.now();